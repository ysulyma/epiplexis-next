(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7345],{5400:function(e,t,n){Promise.resolve().then(n.bind(n,8344))},8344:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(3827),s=n(3618),i=n(9631),l=n(4090),c=n(1573),u=n(6093),o=n(3773),a=n(29),d=n(7526),x=n(3769),h=n(6771);function f(e){let{onChange:t,value:n}=e,s=(0,l.useRef)(null),i=(0,l.useMemo)(()=>(0,d.dz)((e,n)=>{if(!s.current)return;let[r,i]=(0,x.K)(s.current,n.x,n.y);null==t||t((Math.atan2(-i,r)+h.GG)%h.GG)},()=>{document.body.classList.add("dragging")},()=>{document.body.classList.remove("dragging")}),[t]);return(0,r.jsxs)("svg",{"aria-valuemax":360,"aria-valuemin":0,"aria-valuenow":n/h.v4,className:"mx-auto block h-20",viewBox:"-50 -50 100 100",children:[(0,r.jsx)("circle",{className:"fill-none stroke-black dark:stroke-white",cx:"0",cy:"0",r:45}),(0,r.jsx)("circle",{className:"fill-[#ff0070] hover:cursor-grab",cx:45*Math.cos(n),cy:-(45*Math.sin(n)),r:"5",ref:s,...i})]})}var j=n(6141),m=n(1548),p=n(8132),b=n(4611);let g=(0,p.Z)((0,b.XR)(()=>({cube:[1,.5,.5],cylinder:{theta:.75*h.GG,z:.5},torus:[.05*h.GG,.7*h.GG]})));function v(){let e=(0,u._)(["{}^circ"],["{}^\\circ"]);return v=function(){return e},e}function y(){let e=(0,u._)(["{}^circ"],["{}^\\circ"]);return y=function(){return e},e}let{raw:G}=String,N=e=>Number.parseFloat(e.currentTarget.value);function S(e){return t=>{g.setState(n=>({cube:[...n.cube.slice(0,e),Number.parseFloat(t.currentTarget.value),...n.cube.slice(e+1)]}))}}let M=e=>(0,r.jsx)("input",{className:"ml-2 w-16 outline outline-1 outline-gray-200",type:"number",...e});function Z(e){return t=>{g.setState(n=>({torus:[...n.torus.slice(0,e),t,...n.torus.slice(e+1)]}))}}function k(){return(0,r.jsxs)("form",{className:"flex w-full justify-around pt-2",children:[(0,r.jsx)(C,{}),(0,r.jsx)(w,{}),(0,r.jsx)(U,{})]})}function C(){let e=g(e=>e.cube);return(0,r.jsxs)("table",{children:[(0,r.jsx)("caption",{children:(0,r.jsx)(j.Y,{children:"I\\times I\\times I"})}),(0,r.jsx)("tbody",{children:(0,o.w6)(0,3).map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("input",{max:1,min:0,step:h.Nb,onChange:S(t),type:"range",value:e[t]})}),(0,r.jsx)("td",{children:(0,r.jsx)(M,{max:1,min:0,step:h.Nb,onChange:S(t),value:e[t]})})]},t))})]})}function w(){let{z:e,theta:t}=g(e=>e.cylinder,a.Z),n=(0,l.useCallback)(e=>g.setState(t=>({cylinder:{...t.cylinder,z:Number.parseFloat(e.currentTarget.value)}})),[]),s=(0,l.useCallback)(e=>g.setState(t=>({cylinder:{...t.cylinder,theta:e}})),[]);return(0,r.jsxs)("table",{children:[(0,r.jsx)("caption",{children:(0,r.jsx)(j.Y,{children:"I\\times S^1"})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("input",{onChange:n,max:1,min:0,step:h.Nb,type:"range",value:e})}),(0,r.jsx)("td",{children:(0,r.jsx)(M,{onChange:n,max:1,min:0,step:h.Nb,value:e})})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(f,{onChange:s,value:t})}),(0,r.jsxs)("td",{children:[(0,r.jsx)(M,{max:360,min:0,onChange:e=>s(N(e)*h.v4),step:h.Nb,value:(0,m.$G)(t/h.v4)}),(0,r.jsx)(j.Y,{children:G(v())})]})]})]})]})}function U(){let e=g(e=>e.torus);return(0,r.jsxs)("table",{children:[(0,r.jsx)("caption",{children:(0,r.jsx)(j.Y,{children:"S^1\\times S^1"})}),(0,r.jsx)("tbody",{children:(0,o.w6)(0,2).map(t=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)(f,{onChange:Z(t),value:e[t]})}),(0,r.jsxs)("td",{children:[(0,r.jsx)(M,{max:360,min:0,onChange:e=>Z(t)(N(e)*h.v4),step:h.Nb,value:(0,m.$G)(e[t]/h.v4)}),(0,r.jsx)(j.Y,{children:G(y())})]})]},t))})]})}var E=n(6376);let z=new E.BoxGeometry(1,1,1);function I(e){let t=(0,l.useRef)(null);(0,l.useEffect)(()=>g.subscribe(e=>e.cube,e=>{var n;null===(n=t.current)||void 0===n||n.position.set(...e)}),[]);let n=g.getState().cube;return(0,r.jsxs)("group",{...e,children:[(0,r.jsxs)("lineSegments",{name:"cube skeleton",position:[.5,.5,.5],children:[(0,r.jsx)("edgesGeometry",{args:[z]}),(0,r.jsx)("lineBasicMaterial",{color:"white"})]}),(0,r.jsxs)("mesh",{name:"cube",position:[.5,.5,.5],children:[(0,r.jsx)("boxGeometry",{args:[1,1,1]}),(0,r.jsx)("meshStandardMaterial",{color:"red",opacity:.5,transparent:!0})]}),(0,r.jsx)("mesh",{name:"cube point",position:n,ref:t,children:(0,r.jsx)("sphereGeometry",{args:[h.ix,h.ZU,h.ZU]})})]})}let{cos:F,sin:L}=Math;function P(e){let{r:t,z:n,theta:r}=e;return[t*F(r),t*L(r),n]}function _(e,t,n,r){return[(e+t*F(n))*F(r),(e+t*F(n))*L(r),t*L(n)]}function R(e){let t=(0,l.useRef)(null);(0,l.useEffect)(()=>g.subscribe(e=>e.cylinder,e=>{var n;let{z:r,theta:s}=e;null===(n=t.current)||void 0===n||n.position.set(...P({r:.5,theta:s,z:2*r}))}),[]);let{z:n,theta:s}=g.getState().cylinder;return(0,r.jsxs)("group",{...e,children:[(0,r.jsxs)("mesh",{position:[0,0,1],rotation:[h.GG/4,0,0],children:[(0,r.jsx)("cylinderGeometry",{args:[.5,.5,2,h.ZU,h.ZU,!0]}),(0,r.jsx)("meshStandardMaterial",{color:"blue",side:E.DoubleSide})]}),(0,r.jsx)("mesh",{position:P({r:.5,theta:s,z:2*n}),ref:t,children:(0,r.jsx)("sphereGeometry",{args:[h.ix,h.ZU,h.ZU]})})]})}function Y(e){let t=(0,l.useRef)(null);(0,l.useEffect)(()=>g.subscribe(e=>e.torus,e=>{var n;let[r,s]=e;null===(n=t.current)||void 0===n||n.position.set(..._(2,.5,r,s))}),[]);let[n,s]=g.getState().torus;return(0,r.jsxs)("group",{...e,children:[(0,r.jsxs)("mesh",{name:"torus",children:[(0,r.jsx)("torusGeometry",{args:[2,.5,h.ZU,h.ZU]}),(0,r.jsx)("meshStandardMaterial",{color:"green",side:E.DoubleSide})]}),(0,r.jsx)("mesh",{name:"torus point",position:_(2,.5,n,s),ref:t,children:(0,r.jsx)("sphereGeometry",{args:[h.ix,h.ZU,h.ZU]})})]})}let O=[2.31,-5.86,2.11],B=[2.3,-.29,-1.81],D=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("ambientLight",{intensity:Math.PI}),(0,r.jsx)("pointLight",{decay:0,intensity:Math.PI,position:[0,-2,2]}),(0,r.jsx)("pointLight",{decay:0,intensity:Math.PI,position:[0,2,2]}),(0,r.jsx)("pointLight",{decay:0,intensity:Math.PI,position:[4,-1,2]}),(0,r.jsx)(I,{position:[-3,-.5,-.5]}),(0,r.jsx)(R,{position:[0,0,-1]}),(0,r.jsx)(Y,{position:[5,0,0]})]});function T(){let[e,t]=(0,l.useState)(null);return(0,r.jsxs)("main",{className:"flex h-screen flex-col",children:[(0,r.jsx)(k,{}),(0,r.jsx)("div",{className:"flex-1 bg-grid",children:(0,r.jsx)(i.Xz,{camera:{far:1e3,near:.1,position:O,up:[0,0,1],zoom:1},children:(0,r.jsxs)(c.gZ.Provider,{value:e,children:[(0,r.jsx)(c.aU,{}),(0,r.jsx)(s.z,{enableDamping:!1,ref:e=>t(e),target:B}),(0,r.jsx)(l.Suspense,{fallback:null,children:(0,r.jsx)(D,{})})]})})})]})}},6141:function(e,t,n){"use strict";n.d(t,{Y:function(){return c}});var r=n(3827),s=n(2492),i=n(4090);n(8128);var l=n(7526);let c=(0,i.forwardRef)(function(e,t){let{className:n,children:c,display:u=!1}=e,o=(0,i.useRef)(null);return(0,i.useEffect)(()=>{o.current&&s.Z.render(null!=c?c:"",o.current,{displayMode:u,throwOnError:!1})},[c,u]),(0,r.jsx)("span",{className:n,ref:(0,l.zb)(o,t)})})},1573:function(e,t,n){"use strict";n.d(t,{aU:function(){return l},gZ:function(){return i}});var r=n(4595),s=n(4090);let i=(0,s.createContext)(null);function l(){let{camera:e}=(0,r.A)(),t=(0,s.useContext)(i);return(0,s.useEffect)(()=>{let n=n=>{t&&n.getModifierState("Shift")&&(console.log(c(e.position)),console.log(c(t.target)))};return document.body.addEventListener("click",n),()=>{document.body.removeEventListener("click",n)}},[e,t]),null}function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Object.values(e).map(e=>Number.parseFloat(e.toFixed(t)))}},6771:function(e,t,n){"use strict";n.d(t,{GG:function(){return s},Nb:function(){return c},ZU:function(){return l},ix:function(){return i},v4:function(){return r}});let r=Math.PI/180,s=2*Math.PI,i=.03,l=32,c=.01},1548:function(e,t,n){"use strict";function r(e,t,n){return e+n*(t-e)}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number.parseFloat(e.toFixed(t))}n.d(t,{$G:function(){return s},t7:function(){return r}})}},function(e){e.O(0,[6689,8800,3954,1478,1877,8052,2971,8069,1744],function(){return e(e.s=5400)}),_N_E=e.O()}]);