(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{301:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gng/02-trigonometry/01-pythagoras/3d",function(){return t(452)}])},452:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return U}});var r=t(2729),a=t(5893),l=t(5152),s=t.n(l),i=t(7294);let o=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>{let{useScript:n}=e;return function(e){let{children:t,delay:r=0,duration:l=300,start:s=0,endValue:o=1}=e,c=i.Children.only(t),d=n(),u=(0,i.useMemo)(()=>d.playback.newAnimation([{opacity:0,pointerEvents:"none"},{opacity:o,pointerEvents:"all"}],{delay:d.parseStart(s)+r,fill:"both",easing:"ease-in",duration:l}),[r,l,o,d,s]);return(0,a.jsx)(a.Fragment,{children:(0,i.cloneElement)(c,{ref:e=>{null===e?u(e):"object"==typeof e&&"domElement"in e&&u(e.domElement)}})})}}),{loadableGenerated:{webpack:()=>[577]},ssr:!1}),c=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return e.newAnimation([{opacity:0,pointerEvents:"none"},{opacity:a,pointerEvents:"all"}],{delay:n+r,fill:"both",easing:"ease-in",duration:t})};var d=t(7854),u=t(1008),p=t(9008),x=t.n(p);function f(){let e=(0,r._)(["\n          .lv-player, .lv-canvas {\n            background: transparent !important;\n          }"]);return f=function(){return e},e}let h=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>function(n){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x(),{children:(0,a.jsx)("style",{children:String.raw(f())})}),(0,a.jsx)(e.Player,{controls:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.Controls.PlayPause,{}),(0,a.jsx)(e.Controls.TimeDisplay,{}),(0,a.jsx)("div",{className:"lv-controls-right",children:(0,a.jsx)(e.Controls.FullScreen,{})})]}),...n})]})}),{loadableGenerated:{webpack:()=>[577]},ssr:!1}),m=(0,i.forwardRef)(function(e,n){return(0,a.jsx)(b,{...e,forwardedRef:n})}),b=s()(()=>Promise.all([t.e(577),t.e(753)]).then(t.bind(t,9753)).then(e=>{let{KTX:n}=e;return function(e){let{forwardedRef:t,...r}=e;return(0,a.jsx)(n,{...r,ref:t})}}),{loadableGenerated:{webpack:()=>[null]},loading:()=>(0,a.jsx)("span",{}),ssr:!1}),j=s()(()=>Promise.all([t.e(577),t.e(284)]).then(t.bind(t,6284)).then(e=>{let{Canvas:n}=e;return n}),{loadableGenerated:{webpack:()=>[6284]},ssr:!1}),g=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>{let{Player:n,usePlayer:t}=e;return function(e){let{children:r,...l}=e;return(0,a.jsx)(d.V,{...l,children:(0,a.jsx)(n.Context.Provider,{value:t(),children:r})})}}),{loadableGenerated:{webpack:()=>[577]},ssr:!1});function w(){return void 0!==globalThis.window&&(window.katex=u.Z),(0,a.jsxs)(x(),{children:[(0,a.jsx)("script",{async:!0,src:"".concat("/epiplexis-next","/symbols.tex"),type:"math/tex"}),(0,a.jsx)("script",{async:!0,src:"katex.js"})]})}let _=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>{let{usePlayback:n,useScript:t}=e;return function(e){let{children:r}=e,l=(0,i.useRef)(null),s=n(),o=t();return(0,i.useEffect)(()=>{if(!l.current)return;let e=new MutationObserver(e=>{for(let n of e){let{target:e}=n;if(!(e instanceof HTMLElement)||!(e.classList.contains("katex")||e.classList.contains("katex-display")))continue;console.log(e.textContent);let t=Array.from(e.querySelectorAll("*[data-anim]"));for(let e of t){let[n,t]=e.dataset.anim.split(";");c(s,o.parseStart(t))(e)}}});return e.observe(l.current,{childList:!0,subtree:!0}),()=>e.disconnect()},[s,o]),(0,a.jsx)("div",{ref:l,children:r})}}),{loadableGenerated:{webpack:()=>[577]},ssr:!1}),y=(e,n)=>{if("material"in e&&e.material){let t=e.material;t.visible=n>0,t.transparent=t.visible&&n<1,t.opacity=n}else if(e.children)for(let t of e.children)y(t,n)};var v=t(3995),C=t(6184);let V=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>{let{useScript:n}=e;return function(e){let{children:t,delay:r=0,duration:l=300,start:s=0,endValue:o=1}=e,c=i.Children.only(t),d=n(),u=(0,C.jt)({startTime:d.parseStart(s)+r,duration:l,endValue:o,easing:(0,C.Wq)(...C.Z5.easeInCubic)}),p=(0,i.useRef)(null);return(0,v.rE)(e=>{p.current&&y(p.current,e)},u),(0,a.jsx)(a.Fragment,{children:(0,i.cloneElement)(c,{ref:p})})}}),{loadableGenerated:{webpack:()=>[577]},ssr:!1}),k=s()(()=>t.e(577).then(t.bind(t,577)).then(e=>{let{useScript:n}=e;return function(e){let{children:t,enter:r,enterDelay:l=0,enterDuration:s=300,exit:o,exitDelay:c=0,exitDuration:d=300,target:u=1}=e,p=i.Children.only(t),x=n(),f=(0,C.jt)([{startTime:x.parseStart(r)+l,duration:s,endValue:u,easing:(0,C.Wq)(...C.Z5.easeInCubic)},{startTime:x.parseStart(o)+c,duration:d,startValue:u,endValue:0,easing:(0,C.Wq)(...C.Z5.easeOutCubic)}]),h=(0,i.useRef)(null);return(0,v.rE)(e=>{h.current&&y(h.current,e)},f),(0,a.jsx)(a.Fragment,{children:(0,i.cloneElement)(p,{ref:h})})}}),{loadableGenerated:{webpack:()=>[577]},ssr:!1});var E=t(398),z=t(28);function I(e){let n=(0,z.A)(),{camera:t,gl:{domElement:r},scene:l}=n;window.scene=l,window.$three=n,t.up.set(0,0,1);let s=(0,i.useRef)();return(0,z.C)(()=>{var e;return null===(e=s.current)||void 0===e?void 0:e.update()}),(0,i.useEffect)(()=>{e.target&&s.current.target.set(...e.target),console.log(s.current),n.controls=s.current},[n,e.target]),(0,a.jsx)(E.z,{args:[t,r],enableDamping:!1,ref:s})}var S=t(9477);let T=(0,i.forwardRef)(function(e,n){let{r:t=.2,color:r,...l}=e;return(0,a.jsxs)("mesh",{...l,ref:n,children:[(0,a.jsx)("sphereGeometry",{args:[t,32,32]}),(0,a.jsx)("meshToonMaterial",{color:r,side:S.DoubleSide})]})});var A=t(6410);let N=(0,i.forwardRef)(function(e,n){let[t]=(0,i.useState)(()=>new S.Vector3(...e.from)),[r]=(0,i.useState)(()=>new S.Vector3(...e.to)),[l]=(0,i.useState)(()=>new S.Curve);if(l.getPoint=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new S.Vector3;return n.lerpVectors(t,r,e)},e.a){let n;let a=new S.Vector3().subVectors(t,r).normalize(),l=new S.Plane(a,0),i=-l.distanceToPoint(t),o=-l.distanceToPoint(r);(0,v.rE)(t=>{let r=(0,A.t7)(i,o,e.a(t));if(r!==n){let e=new S.Plane(a,r);s.current.material.clippingPlanes=[e],n=r}},[])}(0,i.useImperativeHandle)(n,()=>({setTo(e,n,t){r.set(e,n,t),s.current.geometry=new S.TubeGeometry(l,void 0,.01)},mesh:s.current}),[l,r]);let s=(0,i.useRef)();return(0,a.jsxs)("mesh",{ref:s,name:"segment",children:[(0,a.jsx)("tubeGeometry",{args:[l,void 0,.01]}),(0,a.jsx)("meshToonMaterial",{color:16777215})]})});function P(){let e=(0,r._)(["B(x_2, y_2, z_2)"]);return P=function(){return e},e}function G(){let e=(0,r._)(["C(x_2, y_2, z_1)"]);return G=function(){return e},e}function q(){let e=(0,r._)(["\n        \begin{aligned}\n          \fadeIn{dab}{d(pA, pB)^2} &\fadeIn{dab}{=\n          d(pA, pC)^2 + d(pC, pB)^2}\\\n          &\fadeIn{dz}{= d(pA, pC)^2 + (z_2-z_1)^2}\\\n          \fadeIn{dac}{d(pA, pC)^2} &\fadeIn{dac}{= (x_2 - x_1)^2 + (y_2 - y_1)^2}\\\n          \fadeIn{qed}{d(pA, pB)^2} &\fadeIn{qed}{= (x_2 - x_1)^2 + (y_2 - y_1)^2 + (z_2 - z_1)^2}\n        end{aligned}\n      "],["\n        \\begin{aligned}\n          \\fadeIn{dab}{d(\\pA, \\pB)^2} &\\fadeIn{dab}{=\n          d(\\pA, \\pC)^2 + d(\\pC, \\pB)^2}\\\\\n          &\\fadeIn{dz}{= d(\\pA, \\pC)^2 + (z_2-z_1)^2}\\\\\n          \\fadeIn{dac}{d(\\pA, \\pC)^2} &\\fadeIn{dac}{= (x_2 - x_1)^2 + (y_2 - y_1)^2}\\\\\n          \\fadeIn{qed}{d(\\pA, \\pB)^2} &\\fadeIn{qed}{= (x_2 - x_1)^2 + (y_2 - y_1)^2 + (z_2 - z_1)^2}\n        \\end{aligned}\n      "]);return q=function(){return e},e}t(3150),t(9733);let F=[5,3,2],R=[-1,5,4],M=new S.Vector3(...F),B=new S.Vector3(...R),Z=[R[0],R[1],F[2]],D=new S.Vector3(...Z),L=new S.Vector3().subVectors(M,B),O=new S.Vector3().subVectors(D,M),{raw:W}=String,H=new S.Quaternion;H.setFromUnitVectors(new S.Vector3(0,1,0),new S.Vector3(0,0,1)).premultiply(new S.Quaternion().setFromUnitVectors(new S.Vector3(-1,0,0),L.clone().setZ(0).normalize()));let Q=new S.Quaternion().setFromUnitVectors(new S.Vector3(-1,0,0),O.clone().setZ(0).normalize());function U(){let e=function(){let[e,n]=(0,i.useState)(null);return(0,i.useEffect)(()=>{t.e(577).then(t.bind(t,577)).then(n)},[]),e}(),n=(0,i.useMemo)(()=>e?new e.Script([["back","1"],["aux","1"],["ab","1"],["c","1"],["plane","1"],["dab","1"],["dz","1"],["plane2","1"],["dac","1"],["qed","1"]]):null,[e]);return n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,{}),(0,a.jsxs)(h,{script:n,children:[(0,a.jsx)("section",{className:"h-full w-full dark:text-white","data-affords":"click",style:{backgroundImage:'url("/epiplexis-next/grid.png")'},children:(0,a.jsxs)(j,{camera:{position:[11.01,9.73,8.79]},onCreated:e=>{e.gl.localClippingEnabled=!0},children:[(0,a.jsx)("ambientLight",{}),(0,a.jsx)("pointLight",{position:[10,10,10]}),(0,a.jsx)(I,{}),(0,a.jsx)("axesHelper",{args:[10]}),(0,a.jsx)(T,{name:"a",position:F,color:14427686}),(0,a.jsx)(T,{name:"b",position:R,color:2450411}),(0,a.jsx)(N,{from:F,to:R,a:X}),(0,a.jsx)(g,{position:B,children:(0,a.jsxs)("span",{className:"ml-24 block w-max text-xl",children:["distance from ",(0,a.jsx)(m,{className:"text-red-600",children:"(x_1,y_1,z_1)"})," ","to ",(0,a.jsx)(m,{className:"text-blue-600",children:"(x_2,y_2,z_2)"}),"?"]})}),(0,a.jsx)(V,{start:"aux",children:(0,a.jsx)(T,{name:"aux",position:Z,color:14362487})}),(0,a.jsx)(g,{position:F,children:(0,a.jsx)(o,{start:"ab",children:(0,a.jsx)(m,{className:"-translate-x-1/2 text-red-600",display:!0,children:"A(x_1, y_1, z_1)"})})}),(0,a.jsx)(g,{position:R,children:(0,a.jsx)(o,{start:"ab",children:(0,a.jsx)(m,{className:"-translate-x-1/2 text-blue-600",display:!0,children:W(P())})})}),(0,a.jsx)(g,{position:Z,children:(0,a.jsx)(o,{start:"c",children:(0,a.jsx)(m,{className:"-translate-x-1/2 text-pink-600",display:!0,children:W(G())})})}),(0,a.jsx)(k,{enter:"plane",enterDuration:150,exit:"plane2",target:.5,children:(0,a.jsxs)("mesh",{name:"plane",position:B.clone().addScaledVector(L,.5),quaternion:H,children:[(0,a.jsx)("planeGeometry",{args:[2*L.length(),1*L.length()]}),(0,a.jsx)("meshToonMaterial",{color:2278750,side:S.DoubleSide})]})}),(0,a.jsx)(V,{start:"plane2",endValue:.5,children:(0,a.jsxs)("mesh",{name:"plane2",position:M.clone().addScaledVector(O,.5),quaternion:Q,children:[(0,a.jsx)("planeGeometry",{args:[2*O.length(),O.length()]}),(0,a.jsx)("meshToonMaterial",{color:2278750,side:S.DoubleSide})]})})]})}),(0,a.jsx)(_,{children:(0,a.jsx)(m,{className:"absolute bottom-20 right-8 rounded-md bg-gray-200/50 p-2 text-xl shadow-lg dark:bg-stone-800/50",display:!0,id:"pyth3","data-from-first":"dab",children:W(q())})})]})]}):null}let X=(0,C.jt)({startTime:0,duration:700,easing:(0,C.Wq)(...C.Z5.easeInCubic)})}},function(e){e.O(0,[265,737,517,997,774,888,179],function(){return e(e.s=301)}),_N_E=e.O()}]);