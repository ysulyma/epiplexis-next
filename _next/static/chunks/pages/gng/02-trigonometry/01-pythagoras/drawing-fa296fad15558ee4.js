(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{5128:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gng/02-trigonometry/01-pythagoras/drawing",function(){return n(1412)}])},1412:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(5893),c=n(7294);function i(e,t,n){let r=e;for(;!(r instanceof SVGGraphicsElement);)r=r.parentNode;let c=e instanceof SVGSVGElement?e:e.ownerSVGElement,i=r.getScreenCTM().inverse(),o=c.createSVGPoint();return o.x=t,o.y=n,[(o=o.matrixTransform(i)).x,o.y]}"undefined"!=typeof window&&window.matchMedia?.("(any-hover: hover)")?.matches;let o=[{radius:80,center:[200,200],fill:"purple"},{radius:50,center:[500,150],fill:"teal"}];function l(){let[e,t]=(0,c.useState)(o),[n,i]=(0,c.useState)("#FF0000");return(0,r.jsxs)("div",{className:"flex h-screen w-full flex-col",children:[(0,r.jsxs)("form",{className:"flex items-center border-b p-2",children:["Color",(0,r.jsx)("input",{className:"ml-2",onChange:e=>i(e.currentTarget.value),type:"color",value:n}),(0,r.jsx)("span",{className:"mx-2",children:"Click and drag below to draw circles"}),(0,r.jsx)("button",{className:"border border-solid border-red-800 bg-red-700 px-2 py-1 text-white",onClick:()=>t([]),type:"button",children:"Clear"})]}),(0,r.jsx)(u,{appendCircle:e=>t(t=>[...t,{...e,fill:n}]),circles:e,color:n})]})}function u(e){let{appendCircle:t,circles:n,color:o}=e,l=(0,c.useRef)(null),{dragging:u,events:s,circleProps:a}=function(e,t){let n=(0,c.useRef)(!1),r=(0,c.useRef)(),o=(0,c.useRef)(0),[l,u]=(0,c.useState)(0),s=function(e,t,n){let r=function(e,t=()=>{},n=()=>{}){return r=>{if(r instanceof MouseEvent){if(0!==r.button)return;let c=r.clientX,i=r.clientY,o=e=>{let t=e.clientX-c,r=e.clientY-i;return document.body.removeEventListener("mousemove",l),window.removeEventListener("mouseup",o),n(e,{x:e.clientX,y:e.clientY,dx:t,dy:r})},l=t=>{let n=t.clientX-c,r=t.clientY-i;return c=t.clientX,i=t.clientY,e(t,{x:t.clientX,y:t.clientY,dx:n,dy:r})};return document.body.addEventListener("mousemove",l,{passive:!1}),window.addEventListener("mouseup",o,{passive:!1}),t(r,{x:c,y:i},o,l)}{r.preventDefault();let c=r.changedTouches,i=c[0].identifier,o=c[0].clientX,l=c[0].clientY,u=e=>{for(let t of(e.preventDefault(),Array.from(e.changedTouches))){if(t.identifier!==i)continue;let r=t.clientX-o,c=t.clientY-l;return window.removeEventListener("touchend",u,{capture:!1,passive:!1}),window.removeEventListener("touchcancel",u,{capture:!1,passive:!1}),window.removeEventListener("touchmove",s,{capture:!1,passive:!1}),n(e,{x:t.clientX,y:t.clientY,dx:r,dy:c})}},s=t=>{for(let n of(t.preventDefault(),Array.from(t.changedTouches))){if(n.identifier!==i)continue;let r=n.clientX-o,c=n.clientY-l;return o=n.clientX,l=n.clientY,e(t,{x:n.clientX,y:n.clientY,dx:r,dy:c})}};return window.addEventListener("touchend",u,{capture:!1,passive:!1}),window.addEventListener("touchcancel",u,{capture:!1,passive:!1}),window.addEventListener("touchmove",s,{capture:!1,passive:!1}),t(r,{x:o,y:l},u,s)}}}(e,t,n);return{"data-affords":"click",onMouseDown:e=>r(e.nativeEvent),onTouchStart:e=>r(e.nativeEvent)}}((t,n)=>{if(!e.current)return;let c=i(e.current,n.x,n.y),l=Math.hypot(c[0]-r.current[0],c[1]-r.current[1]);o.current=l,u(l)},(t,c)=>{n.current=!0,o.current=0,e.current&&(r.current=i(e.current,c.x,c.y))},()=>{t({center:r.current,radius:o.current}),r.current=void 0,n.current=!1});return{circleProps:r.current?{cx:r.current[0],cy:r.current[1],r:l}:void 0,dragging:n,events:s}}(l,t),{onPointerMove:d,circleProps:f}=function(e,t){let[n,r]=(0,c.useState)();return{circleProps:n?{cx:n[0],cy:n[1]}:void 0,onPointerMove:n=>{if(!e.current||t.current)return;let c=i(e.current,n.clientX,n.clientY);r(c)}}}(l,u);return(0,r.jsxs)("svg",{className:"w-full flex-1",...s,onPointerMove:d,ref:l,children:[n.map((e,t)=>(0,r.jsx)("circle",{cx:e.center[0],cy:e.center[1],r:e.radius,fill:e.fill},e.center.join(",")+"|".concat(e.radius,"|").concat(e.fill)+"|".concat(t))),f&&(0,r.jsx)("circle",{...f,fill:o,r:"3"}),a&&(0,r.jsx)("circle",{...a,fill:o})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5128)}),_N_E=e.O()}]);