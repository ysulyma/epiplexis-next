(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[284],{296:function(e){function t(e,t,r){function n(){var l=Date.now()-c;l<t&&l>=0?o=setTimeout(n,t-l):(o=null,r||(u=e.apply(s,i),s=i=null))}null==t&&(t=100);var o,i,s,c,u,l=function(){s=this,i=arguments,c=Date.now();var l=r&&!o;return o||(o=setTimeout(n,t)),l&&(u=e.apply(s,i),s=i=null),u};return l.clear=function(){o&&(clearTimeout(o),o=null)},l.flush=function(){o&&(u=e.apply(s,i),s=i=null,clearTimeout(o),o=null)},l}t.debounce=t,e.exports=t},6284:function(e,t,r){"use strict";r.r(t),r.d(t,{Canvas:function(){return em}});var n,o,i,s=r(5893),c=[],u="ResizeObserver loop completed with undelivered notifications.",l=function(){var e;"function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:u}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=u),window.dispatchEvent(e)};(n=o||(o={})).BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box";var a=function(e){return Object.freeze(e)},f=function(e,t){this.inlineSize=e,this.blockSize=t,a(this)},DOMRectReadOnly=function(){function DOMRectReadOnly(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,a(this)}return DOMRectReadOnly.prototype.toJSON=function(){return{x:this.x,y:this.y,top:this.top,right:this.right,bottom:this.bottom,left:this.left,width:this.width,height:this.height}},DOMRectReadOnly.fromRect=function(e){return new DOMRectReadOnly(e.x,e.y,e.width,e.height)},DOMRectReadOnly}(),d=function(e){return e instanceof SVGElement&&"getBBox"in e},h=function(e){if(d(e)){var t=e.getBBox(),r=t.width,n=t.height;return!r&&!n}var o=e.offsetWidth,i=e.offsetHeight;return!(o||i||e.getClientRects().length)},v=function(e){if(e instanceof Element)return!0;var t,r=null===(t=null==e?void 0:e.ownerDocument)||void 0===t?void 0:t.defaultView;return!!(r&&e instanceof r.Element)},p=function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},b="undefined"!=typeof window?window:{},g=new WeakMap,m=/auto|scroll/,E=/^tb|vertical/,w=/msie|trident/i.test(b.navigator&&b.navigator.userAgent),y=function(e){return parseFloat(e||"0")},x=function(e,t,r){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=!1),new f((r?t:e)||0,(r?e:t)||0)},z=a({devicePixelContentBoxSize:x(),borderBoxSize:x(),contentBoxSize:x(),contentRect:new DOMRectReadOnly(0,0,0,0)}),O=function(e,t){if(void 0===t&&(t=!1),g.has(e)&&!t)return g.get(e);if(h(e))return g.set(e,z),z;var r=getComputedStyle(e),n=d(e)&&e.ownerSVGElement&&e.getBBox(),o=!w&&"border-box"===r.boxSizing,i=E.test(r.writingMode||""),s=!n&&m.test(r.overflowY||""),c=!n&&m.test(r.overflowX||""),u=n?0:y(r.paddingTop),l=n?0:y(r.paddingRight),f=n?0:y(r.paddingBottom),v=n?0:y(r.paddingLeft),p=n?0:y(r.borderTopWidth),b=n?0:y(r.borderRightWidth),O=n?0:y(r.borderBottomWidth),T=n?0:y(r.borderLeftWidth),S=v+l,C=u+f,R=T+b,B=p+O,k=c?e.offsetHeight-B-e.clientHeight:0,P=s?e.offsetWidth-R-e.clientWidth:0,_=n?n.width:y(r.width)-(o?S+R:0)-P,L=n?n.height:y(r.height)-(o?C+B:0)-k,M=_+S+P+R,D=L+C+k+B,N=a({devicePixelContentBoxSize:x(Math.round(_*devicePixelRatio),Math.round(L*devicePixelRatio),i),borderBoxSize:x(M,D,i),contentBoxSize:x(_,L,i),contentRect:new DOMRectReadOnly(v,u,_,L)});return g.set(e,N),N},T=function(e,t,r){var n=O(e,r),i=n.borderBoxSize,s=n.contentBoxSize,c=n.devicePixelContentBoxSize;switch(t){case o.DEVICE_PIXEL_CONTENT_BOX:return c;case o.BORDER_BOX:return i;default:return s}},ResizeObserverEntry=function(e){var t=O(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=a([t.borderBoxSize]),this.contentBoxSize=a([t.contentBoxSize]),this.devicePixelContentBoxSize=a([t.devicePixelContentBoxSize])},S=function(e){if(h(e))return 1/0;for(var t=0,r=e.parentNode;r;)t+=1,r=r.parentNode;return t},C=function(){var e=1/0,t=[];c.forEach(function(r){if(0!==r.activeTargets.length){var n=[];r.activeTargets.forEach(function(t){var r=new ResizeObserverEntry(t.target),o=S(t.target);n.push(r),t.lastReportedSize=T(t.target,t.observedBox),o<e&&(e=o)}),t.push(function(){r.callback.call(r.observer,n,r.observer)}),r.activeTargets.splice(0,r.activeTargets.length)}});for(var r=0;r<t.length;r++)(0,t[r])();return e},R=function(e){c.forEach(function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach(function(r){r.isActive()&&(S(r.target)>e?t.activeTargets.push(r):t.skippedTargets.push(r))})})},B=function(){var e=0;for(R(0);c.some(function(e){return e.activeTargets.length>0});)R(e=C());return c.some(function(e){return e.skippedTargets.length>0})&&l(),e>0},k=[],P=function(e){if(!i){var t=0,r=document.createTextNode("");new MutationObserver(function(){return k.splice(0).forEach(function(e){return e()})}).observe(r,{characterData:!0}),i=function(){r.textContent="".concat(t?t--:t++)}}k.push(e),i()},_=function(e){P(function(){requestAnimationFrame(e)})},L=0,M={attributes:!0,characterData:!0,childList:!0,subtree:!0},D=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],N=function(e){return void 0===e&&(e=0),Date.now()+e},A=!1,I=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!A){A=!0;var r=N(e);_(function(){var n=!1;try{n=B()}finally{if(A=!1,e=r-N(),!L)return;n?t.run(1e3):e>0?t.run(e):t.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,M)};document.body?t():b.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),D.forEach(function(t){return b.addEventListener(t,e.listener,!0)}))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),D.forEach(function(t){return b.removeEventListener(t,e.listener,!0)}),this.stopped=!0)},e}()),j=function(e){!L&&e>0&&I.start(),(L+=e)||I.stop()},F=function(){function e(e,t){this.target=e,this.observedBox=t||o.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=T(this.target,this.observedBox,!0);return d(e=this.target)||p(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),W=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},X=new WeakMap,H=function(e,t){for(var r=0;r<e.length;r+=1)if(e[r].target===t)return r;return -1},V=function(){function e(){}return e.connect=function(e,t){var r=new W(e,t);X.set(e,r)},e.observe=function(e,t,r){var n=X.get(e),o=0===n.observationTargets.length;0>H(n.observationTargets,t)&&(o&&c.push(n),n.observationTargets.push(new F(t,r&&r.box)),j(1),I.schedule())},e.unobserve=function(e,t){var r=X.get(e),n=H(r.observationTargets,t),o=1===r.observationTargets.length;n>=0&&(o&&c.splice(c.indexOf(r),1),r.observationTargets.splice(n,1),j(-1))},e.disconnect=function(e){var t=this,r=X.get(e);r.observationTargets.slice().forEach(function(r){return t.unobserve(e,r.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),ResizeObserver=function(){function ResizeObserver(e){if(0==arguments.length)throw TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");V.connect(this,e)}return ResizeObserver.prototype.observe=function(e,t){if(0==arguments.length)throw TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!v(e))throw TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");V.observe(this,e,t)},ResizeObserver.prototype.unobserve=function(e){if(0==arguments.length)throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!v(e))throw TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");V.unobserve(this,e)},ResizeObserver.prototype.disconnect=function(){V.disconnect(this)},ResizeObserver.toString=function(){return"function ResizeObserver () { [polyfill code] }"},ResizeObserver}(),U=r(7294),q=r(28),Y=r(7462),G=r(9477),J=r(296),Z=r.n(J);let K=["x","y","top","bottom","left","right","width","height"],Q=(e,t)=>K.every(r=>e[r]===t[r]);var $=Object.defineProperty,ee=Object.defineProperties,et=Object.getOwnPropertyDescriptors,er=Object.getOwnPropertySymbols,en=Object.prototype.hasOwnProperty,eo=Object.prototype.propertyIsEnumerable,ei=(e,t,r)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,es=(e,t)=>{for(var r in t||(t={}))en.call(t,r)&&ei(e,r,t[r]);if(er)for(var r of er(t))eo.call(t,r)&&ei(e,r,t[r]);return e},ec=(e,t)=>ee(e,et(t));function eu(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let el=eu(U.createContext(null));class ea extends U.Component{render(){return U.createElement(el.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:ef,ReactCurrentDispatcher:ed}=U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r(2576),r(6525),r(5431);let eh={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ev(e){let{handlePointer:t}=(0,q.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(2*(e.offsetY/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(eh).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:o}=e.getState();null==o.disconnect||o.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=o.handlers)?r:[]).forEach(([e,r])=>{let[n,o]=eh[e];t.addEventListener(n,r,{passive:o})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=eh[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let ep=U.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:o,events:i=ev,eventSource:s,eventPrefix:c,shadows:u,linear:l,flat:a,legacy:f,orthographic:d,frameloop:h,dpr:v,performance:p,raycaster:b,camera:g,scene:m,onPointerMissed:E,onCreated:w,...y},x){U.useMemo(()=>(0,q.e)(G),[]);let z=function(){let e=function(){var e,t;let r=function(){let e=U.useContext(el);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=U.useId(),r=U.useMemo(()=>{for(let r of[null==ef?void 0:ef.current,e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let o=r?t.return:t.child;for(;o;){let t=e(o,r,n);if(t)return t;o=r?null:o.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t]);return r}(),[n]=U.useState(()=>new Map);n.clear();let o=r;for(;o;){let r=null==(e=o.type)?void 0:e._context;r&&r!==el&&!n.has(r)&&n.set(r,null==(t=null==ed?void 0:ed.current)?void 0:t.readContext(eu(r))),o=o.return}return n}();return U.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>U.createElement(t,null,U.createElement(r.Provider,ec(es({},n),{value:e.get(r)}))),e=>U.createElement(ea,es({},e))),[e])}(),[O,T]=function(e){var t;let{debounce:r,scroll:n,polyfill:o,offsetSize:i}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,ResizeObserver=o||("undefined"==typeof window?class{}:window.ResizeObserver);if(!ResizeObserver)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[s,c]=(0,U.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),u=(0,U.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),l=r?"number"==typeof r?r:r.scroll:null,a=r?"number"==typeof r?r:r.resize:null,f=(0,U.useRef)(!1);(0,U.useEffect)(()=>(f.current=!0,()=>void(f.current=!1)));let[d,h,v]=(0,U.useMemo)(()=>{let e=()=>{if(!u.current.element)return;let{left:e,top:t,width:r,height:n,bottom:o,right:s,x:l,y:a}=u.current.element.getBoundingClientRect(),d={left:e,top:t,width:r,height:n,bottom:o,right:s,x:l,y:a};u.current.element instanceof HTMLElement&&i&&(d.height=u.current.element.offsetHeight,d.width=u.current.element.offsetWidth),Object.freeze(d),f.current&&!Q(u.current.lastBounds,d)&&c(u.current.lastBounds=d)};return[e,a?Z()(e,a):e,l?Z()(e,l):e]},[c,i,l,a]);function p(){u.current.scrollContainers&&(u.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",v,!0)),u.current.scrollContainers=null),u.current.resizeObserver&&(u.current.resizeObserver.disconnect(),u.current.resizeObserver=null)}function b(){u.current.element&&(u.current.resizeObserver=new ResizeObserver(v),u.current.resizeObserver.observe(u.current.element),n&&u.current.scrollContainers&&u.current.scrollContainers.forEach(e=>e.addEventListener("scroll",v,{capture:!0,passive:!0})))}return t=!!n,(0,U.useEffect)(()=>{if(t)return window.addEventListener("scroll",v,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",v,!0)},[v,t]),(0,U.useEffect)(()=>(window.addEventListener("resize",h),()=>void window.removeEventListener("resize",h)),[h]),(0,U.useEffect)(()=>{p(),b()},[n,v,h]),(0,U.useEffect)(()=>p,[]),[e=>{e&&e!==u.current.element&&(p(),u.current.element=e,u.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:o,overflowY:i}=window.getComputedStyle(t);return[n,o,i].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),b())},s,d]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),S=U.useRef(null),C=U.useRef(null);U.useImperativeHandle(x,()=>S.current);let R=(0,q.u)(E),[B,k]=U.useState(!1),[P,_]=U.useState(!1);if(B)throw B;if(P)throw P;let L=U.useRef(null);(0,q.a)(()=>{let t=S.current;T.width>0&&T.height>0&&t&&(L.current||(L.current=(0,q.b)(t)),L.current.configure({gl:o,events:i,shadows:u,linear:l,flat:a,legacy:f,orthographic:d,frameloop:h,dpr:v,performance:p,raycaster:b,camera:g,scene:m,size:T,onPointerMissed:(...e)=>null==R.current?void 0:R.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(s?(0,q.i)(s)?s.current:s:C.current),c&&e.setEvents({compute:(e,t)=>{let r=e[c+"X"],n=e[c+"Y"];t.pointer.set(r/t.size.width*2-1,-(2*(n/t.size.height))+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==w||w(e)}}),L.current.render(U.createElement(z,null,U.createElement(q.E,{set:_},U.createElement(U.Suspense,{fallback:U.createElement(q.B,{set:k})},e)))))}),U.useEffect(()=>{let e=S.current;if(e)return()=>(0,q.d)(e)},[]);let M=s?"none":"auto";return U.createElement("div",(0,Y.Z)({ref:C,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:M,...n}},y),U.createElement("div",{ref:O,style:{width:"100%",height:"100%"}},U.createElement("canvas",{ref:S,style:{display:"block"}},t)))}),eb=U.forwardRef(function(e,t){return U.createElement(ea,null,U.createElement(ep,(0,Y.Z)({},e,{ref:t})))});var eg=r(577);function em(e){let t=function(...e){let t=U.useRef([]);return t.current=e.map(e=>U.useContext(e)),U.useMemo(()=>({children:r})=>e.reduceRight((e,r,n)=>U.createElement(r.Provider,{value:t.current[n],children:e}),r),[])}(eg.Player.Context,eg.PlaybackContext,eg.KeymapContext);return(0,s.jsx)(eb,{resize:{polyfill:ResizeObserver},...e,children:(0,s.jsxs)(t,{children:[(0,s.jsx)(eE,{...e}),e.children]})})}function eE(e){let{gl:t}=(0,q.A)();return(0,U.useEffect)(()=>{let r=e["data-affords"]??"click keys(ArrowUp,ArrowDown,ArrowLeft,ArrowRight)";r&&t.domElement.setAttribute("data-affords",r),t.domElement.style.touchAction="none"},[]),null}}}]);