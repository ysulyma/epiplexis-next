(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5029],{5029:function(e,t,r){"use strict";r.d(t,{Xz:function(){return L}});var n,o,l=r(7034),i=r(7462),u=r(7294),c=r(9477),s=r(296),a=r.n(s);let f=["x","y","top","bottom","left","right","width","height"],d=(e,t)=>f.every(r=>e[r]===t[r]);var p=Object.defineProperty,v=Object.defineProperties,m=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,b=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,E=(e,t,r)=>t in e?p(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))b.call(t,r)&&E(e,r,t[r]);if(h)for(var r of h(t))w.call(t,r)&&E(e,r,t[r]);return e},g=(e,t)=>v(e,m(t));function C(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(n=window.document)?void 0:n.createElement)||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?u.useLayoutEffect:u.useEffect;let z=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=z;return}return z.apply(this,arguments)};let O=C(u.createContext(null));class P extends u.Component{render(){return u.createElement(O.Provider,{value:this._reactInternals},this.props.children)}}r(2576),r(6525),r(3840);let x={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function S(e){let{handlePointer:t}=(0,l.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(x).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:o}=e.getState();null==o.disconnect||o.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=o.handlers)?r:[]).forEach(([e,r])=>{let[n,o]=x[e];t.addEventListener(n,r,{passive:o})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=x[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let j=u.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:o,events:s=S,eventSource:f,eventPrefix:p,shadows:v,linear:m,flat:h,legacy:b,orthographic:w,frameloop:E,dpr:z,performance:x,raycaster:j,camera:L,scene:R,onPointerMissed:k,onCreated:M,..._},T){u.useMemo(()=>(0,l.e)(c),[]);let B=function(){let e=function(){let e=function(){let e=u.useContext(O);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=u.useId();return u.useMemo(()=>{for(let r of[e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let o=r?t.return:t.child;for(;o;){let t=e(o,r,n);if(t)return t;o=r?null:o.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[t]=u.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&"object"==typeof r.type){let e=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;e&&e!==O&&!t.has(e)&&t.set(e,u.useContext(C(e)))}r=r.return}return t}();return u.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>u.createElement(t,null,u.createElement(r.Provider,g(y({},n),{value:e.get(r)}))),e=>u.createElement(P,y({},e))),[e])}(),[D,F]=function(e){var t;let{debounce:r,scroll:n,polyfill:o,offsetSize:l}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,i=o||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,s]=(0,u.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),f=(0,u.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),p=r?"number"==typeof r?r:r.scroll:null,v=r?"number"==typeof r?r:r.resize:null,m=(0,u.useRef)(!1);(0,u.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[h,b,w]=(0,u.useMemo)(()=>{let e=()=>{if(!f.current.element)return;let{left:e,top:t,width:r,height:n,bottom:o,right:i,x:u,y:c}=f.current.element.getBoundingClientRect(),a={left:e,top:t,width:r,height:n,bottom:o,right:i,x:u,y:c};f.current.element instanceof HTMLElement&&l&&(a.height=f.current.element.offsetHeight,a.width=f.current.element.offsetWidth),Object.freeze(a),m.current&&!d(f.current.lastBounds,a)&&s(f.current.lastBounds=a)};return[e,v?a()(e,v):e,p?a()(e,p):e]},[s,l,p,v]);function E(){f.current.scrollContainers&&(f.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",w,!0)),f.current.scrollContainers=null),f.current.resizeObserver&&(f.current.resizeObserver.disconnect(),f.current.resizeObserver=null)}function y(){f.current.element&&(f.current.resizeObserver=new i(w),f.current.resizeObserver.observe(f.current.element),n&&f.current.scrollContainers&&f.current.scrollContainers.forEach(e=>e.addEventListener("scroll",w,{capture:!0,passive:!0})))}return t=!!n,(0,u.useEffect)(()=>{if(t)return window.addEventListener("scroll",w,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",w,!0)},[w,t]),(0,u.useEffect)(()=>(window.addEventListener("resize",b),()=>void window.removeEventListener("resize",b)),[b]),(0,u.useEffect)(()=>{E(),y()},[n,w,b]),(0,u.useEffect)(()=>E,[]),[e=>{e&&e!==f.current.element&&(E(),f.current.element=e,f.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:o,overflowY:l}=window.getComputedStyle(t);return[n,o,l].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),y())},c,h]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),H=u.useRef(null),I=u.useRef(null);u.useImperativeHandle(T,()=>H.current);let W=(0,l.u)(k),[N,X]=u.useState(!1),[Y,Z]=u.useState(!1);if(N)throw N;if(Y)throw Y;let A=u.useRef(null);(0,l.a)(()=>{let t=H.current;F.width>0&&F.height>0&&t&&(A.current||(A.current=(0,l.b)(t)),A.current.configure({gl:o,events:s,shadows:v,linear:m,flat:h,legacy:b,orthographic:w,frameloop:E,dpr:z,performance:x,raycaster:j,camera:L,scene:R,size:F,onPointerMissed:(...e)=>null==W.current?void 0:W.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(f?(0,l.i)(f)?f.current:f:I.current),p&&e.setEvents({compute:(e,t)=>{let r=e[p+"X"],n=e[p+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==M||M(e)}}),A.current.render(u.createElement(B,null,u.createElement(l.E,{set:Z},u.createElement(u.Suspense,{fallback:u.createElement(l.B,{set:X})},e)))))}),u.useEffect(()=>{let e=H.current;if(e)return()=>(0,l.d)(e)},[]);let U=f?"none":"auto";return u.createElement("div",(0,i.Z)({ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...n}},_),u.createElement("div",{ref:D,style:{width:"100%",height:"100%"}},u.createElement("canvas",{ref:H,style:{display:"block"}},t)))}),L=u.forwardRef(function(e,t){return u.createElement(P,null,u.createElement(j,(0,i.Z)({},e,{ref:t})))})},296:function(e){function t(e,t,r){function n(){var s=Date.now()-u;s<t&&s>=0?o=setTimeout(n,t-s):(o=null,r||(c=e.apply(i,l),i=l=null))}null==t&&(t=100);var o,l,i,u,c,s=function(){i=this,l=arguments,u=Date.now();var s=r&&!o;return o||(o=setTimeout(n,t)),s&&(c=e.apply(i,l),i=l=null),c};return s.clear=function(){o&&(clearTimeout(o),o=null)},s.flush=function(){o&&(c=e.apply(i,l),i=l=null,clearTimeout(o),o=null)},s}t.debounce=t,e.exports=t}}]);