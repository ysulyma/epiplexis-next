(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[29],{5029:function(e,t,r){"use strict";r.d(t,{Xz:function(){return R}});var n=r(9270),l=r(7462),o=r(7294),u=r(9477),c=r(296),i=r.n(c);let s=["x","y","top","bottom","left","right","width","height"],a=(e,t)=>s.every(r=>e[r]===t[r]);var f=Object.defineProperty,d=Object.defineProperties,v=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,b=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E=(e,t)=>{for(var r in t||(t={}))p.call(t,r)&&b(e,r,t[r]);if(m)for(var r of m(t))h.call(t,r)&&b(e,r,t[r]);return e},w=(e,t)=>d(e,v(t));function y(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let g=y(o.createContext(null));class O extends o.Component{render(){return o.createElement(g.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:C,ReactCurrentDispatcher:z}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r(2576),r(6525),r(3840);let _={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function P(e){let{handlePointer:t}=(0,n.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(_).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:l}=e.getState();null==l.disconnect||l.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=l.handlers)?r:[]).forEach(([e,r])=>{let[n,l]=_[e];t.addEventListener(n,r,{passive:l})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=_[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let S=o.forwardRef(function({children:e,fallback:t,resize:r,style:c,gl:s,events:f=P,eventSource:d,eventPrefix:v,shadows:m,linear:p,flat:h,legacy:b,orthographic:_,frameloop:S,dpr:R,performance:L,raycaster:k,camera:x,scene:j,onPointerMissed:M,onCreated:T,...D},I){o.useMemo(()=>(0,n.e)(u),[]);let B=function(){let e=function(){var e,t;let r=function(){let e=o.useContext(g);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId();return o.useMemo(()=>{for(let r of[null==C?void 0:C.current,e,null==e?void 0:e.alternate]){if(!r)continue;let e=function e(t,r,n){if(!t)return;if(!0===n(t))return t;let l=r?t.return:t.child;for(;l;){let t=e(l,r,n);if(t)return t;l=r?null:l.sibling}}(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}(),[n]=o.useState(()=>new Map);n.clear();let l=r;for(;l;){let r=null==(e=l.type)?void 0:e._context;r&&r!==g&&!n.has(r)&&n.set(r,null==(t=null==z?void 0:z.current)?void 0:t.readContext(y(r))),l=l.return}return n}();return o.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>o.createElement(t,null,o.createElement(r.Provider,w(E({},n),{value:e.get(r)}))),e=>o.createElement(O,E({},e))),[e])}(),[F,N]=function(e){var t;let{debounce:r,scroll:n,polyfill:l,offsetSize:u}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,c=l||("undefined"==typeof window?class{}:window.ResizeObserver);if(!c)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[s,f]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s}),v=r?"number"==typeof r?r:r.scroll:null,m=r?"number"==typeof r?r:r.resize:null,p=(0,o.useRef)(!1);(0,o.useEffect)(()=>(p.current=!0,()=>void(p.current=!1)));let[h,b,E]=(0,o.useMemo)(()=>{let e=()=>{if(!d.current.element)return;let{left:e,top:t,width:r,height:n,bottom:l,right:o,x:c,y:i}=d.current.element.getBoundingClientRect(),s={left:e,top:t,width:r,height:n,bottom:l,right:o,x:c,y:i};d.current.element instanceof HTMLElement&&u&&(s.height=d.current.element.offsetHeight,s.width=d.current.element.offsetWidth),Object.freeze(s),p.current&&!a(d.current.lastBounds,s)&&f(d.current.lastBounds=s)};return[e,m?i()(e,m):e,v?i()(e,v):e]},[f,u,v,m]);function w(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",E,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function y(){d.current.element&&(d.current.resizeObserver=new c(E),d.current.resizeObserver.observe(d.current.element),n&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",E,{capture:!0,passive:!0})))}return t=!!n,(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",E,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",E,!0)},[E,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",b),()=>void window.removeEventListener("resize",b)),[b]),(0,o.useEffect)(()=>{w(),y()},[n,E,b]),(0,o.useEffect)(()=>w,[]),[e=>{e&&e!==d.current.element&&(w(),d.current.element=e,d.current.scrollContainers=function e(t){let r=[];if(!t||t===document.body)return r;let{overflow:n,overflowX:l,overflowY:o}=window.getComputedStyle(t);return[n,l,o].some(e=>"auto"===e||"scroll"===e)&&r.push(t),[...r,...e(t.parentElement)]}(e),y())},s,h]}({scroll:!0,debounce:{scroll:50,resize:0},...r}),H=o.useRef(null),U=o.useRef(null);o.useImperativeHandle(I,()=>H.current);let W=(0,n.u)(M),[X,Y]=o.useState(!1),[A,Z]=o.useState(!1);if(X)throw X;if(A)throw A;let q=o.useRef(null);(0,n.a)(()=>{let t=H.current;N.width>0&&N.height>0&&t&&(q.current||(q.current=(0,n.b)(t)),q.current.configure({gl:s,events:f,shadows:m,linear:p,flat:h,legacy:b,orthographic:_,frameloop:S,dpr:R,performance:L,raycaster:k,camera:x,scene:j,size:N,onPointerMissed:(...e)=>null==W.current?void 0:W.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(d?(0,n.i)(d)?d.current:d:U.current),v&&e.setEvents({compute:(e,t)=>{let r=e[v+"X"],n=e[v+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==T||T(e)}}),q.current.render(o.createElement(B,null,o.createElement(n.E,{set:Z},o.createElement(o.Suspense,{fallback:o.createElement(n.B,{set:Y})},e)))))}),o.useEffect(()=>{let e=H.current;if(e)return()=>(0,n.d)(e)},[]);let G=d?"none":"auto";return o.createElement("div",(0,l.Z)({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:G,...c}},D),o.createElement("div",{ref:F,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:H,style:{display:"block"}},t)))}),R=o.forwardRef(function(e,t){return o.createElement(O,null,o.createElement(S,(0,l.Z)({},e,{ref:t})))})},296:function(e){function t(e,t,r){function n(){var s=Date.now()-c;s<t&&s>=0?l=setTimeout(n,t-s):(l=null,r||(i=e.apply(u,o),u=o=null))}null==t&&(t=100);var l,o,u,c,i,s=function(){u=this,o=arguments,c=Date.now();var s=r&&!l;return l||(l=setTimeout(n,t)),s&&(i=e.apply(u,o),u=o=null),i};return s.clear=function(){l&&(clearTimeout(l),l=null)},s.flush=function(){l&&(i=e.apply(u,o),u=o=null,clearTimeout(l),l=null)},s}t.debounce=t,e.exports=t}}]);