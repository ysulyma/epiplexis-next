(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{1584:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r=n(7500),i=n(7608),o=n(4090);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){var r;return r=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"===a(r)?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(6096);let c=(e,t)=>(e%t+t)%t;class u extends s.EventDispatcher{constructor(e,t){super(),l(this,"object",void 0),l(this,"domElement",void 0),l(this,"enabled",!0),l(this,"target",new s.Vector3),l(this,"minDistance",0),l(this,"maxDistance",1/0),l(this,"minZoom",0),l(this,"maxZoom",1/0),l(this,"minPolarAngle",0),l(this,"maxPolarAngle",Math.PI),l(this,"minAzimuthAngle",-1/0),l(this,"maxAzimuthAngle",1/0),l(this,"enableDamping",!1),l(this,"dampingFactor",.05),l(this,"enableZoom",!0),l(this,"zoomSpeed",1),l(this,"enableRotate",!0),l(this,"rotateSpeed",1),l(this,"enablePan",!0),l(this,"panSpeed",1),l(this,"screenSpacePanning",!0),l(this,"keyPanSpeed",7),l(this,"autoRotate",!1),l(this,"autoRotateSpeed",2),l(this,"reverseOrbit",!1),l(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),l(this,"mouseButtons",{LEFT:s.MOUSE.ROTATE,MIDDLE:s.MOUSE.DOLLY,RIGHT:s.MOUSE.PAN}),l(this,"touches",{ONE:s.TOUCH.ROTATE,TWO:s.TOUCH.DOLLY_PAN}),l(this,"target0",void 0),l(this,"position0",void 0),l(this,"zoom0",void 0),l(this,"_domElementKeyEvents",null),l(this,"getPolarAngle",void 0),l(this,"getAzimuthalAngle",void 0),l(this,"setPolarAngle",void 0),l(this,"setAzimuthalAngle",void 0),l(this,"getDistance",void 0),l(this,"listenToKeyEvents",void 0),l(this,"saveState",void 0),l(this,"reset",void 0),l(this,"update",void 0),l(this,"connect",void 0),l(this,"dispose",void 0),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object instanceof s.PerspectiveCamera?this.object.zoom:1,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=e=>{let t=c(e,2*Math.PI),r=d.phi;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),p.phi=t-r,n.update()},this.setAzimuthalAngle=e=>{let t=c(e,2*Math.PI),r=d.theta;r<0&&(r+=2*Math.PI),t<0&&(t+=2*Math.PI);let i=Math.abs(t-r);2*Math.PI-i<i&&(t<r?t+=2*Math.PI:r+=2*Math.PI),p.theta=t-r,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=e=>{e.addEventListener("keydown",Z),this._domElementKeyEvents=e},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object instanceof s.PerspectiveCamera?n.object.zoom:1},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object instanceof s.PerspectiveCamera&&(n.object.zoom=n.zoom0,n.object.updateProjectionMatrix()),n.dispatchEvent(r),n.update(),u=a.NONE},this.update=(()=>{let t=new s.Vector3,i=new s.Quaternion().setFromUnitVectors(e.up,new s.Vector3(0,1,0)),o=i.clone().invert(),l=new s.Vector3,c=new s.Quaternion,b=2*Math.PI;return function(){let e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),d.setFromVector3(t),n.autoRotate&&u===a.NONE&&C(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(d.theta+=p.theta*n.dampingFactor,d.phi+=p.phi*n.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);let s=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(s)&&isFinite(g)&&(s<-Math.PI?s+=b:s>Math.PI&&(s-=b),g<-Math.PI?g+=b:g>Math.PI&&(g-=b),s<=g?d.theta=Math.max(s,Math.min(g,d.theta)):d.theta=d.theta>(s+g)/2?Math.max(s,d.theta):Math.min(g,d.theta)),d.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=h,d.radius=Math.max(n.minDistance,Math.min(n.maxDistance,d.radius)),!0===n.enableDamping?n.target.addScaledVector(m,n.dampingFactor):n.target.add(m),t.setFromSpherical(d),t.applyQuaternion(o),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(p.theta*=1-n.dampingFactor,p.phi*=1-n.dampingFactor,m.multiplyScalar(1-n.dampingFactor)):(p.set(0,0,0),m.set(0,0,0)),h=1,!!(v||l.distanceToSquared(n.object.position)>f||8*(1-c.dot(n.object.quaternion))>f)&&(n.dispatchEvent(r),l.copy(n.object.position),c.copy(n.object.quaternion),v=!1,!0)}})(),this.connect=e=>{e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),n.domElement=e,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",K),n.domElement.addEventListener("pointerdown",Y),n.domElement.addEventListener("pointercancel",G),n.domElement.addEventListener("wheel",X)},this.dispose=()=>{var e,t,r,i,o,a;null===(e=n.domElement)||void 0===e||e.removeEventListener("contextmenu",K),null===(t=n.domElement)||void 0===t||t.removeEventListener("pointerdown",Y),null===(r=n.domElement)||void 0===r||r.removeEventListener("pointercancel",G),null===(i=n.domElement)||void 0===i||i.removeEventListener("wheel",X),null===(o=n.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointermove",W),null===(a=n.domElement)||void 0===a||a.ownerDocument.removeEventListener("pointerup",q),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",Z)};let n=this,r={type:"change"},i={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},u=a.NONE,f=1e-6,d=new s.Spherical,p=new s.Spherical,h=1,m=new s.Vector3,v=!1,b=new s.Vector2,g=new s.Vector2,y=new s.Vector2,w=new s.Vector2,_=new s.Vector2,E=new s.Vector2,S=new s.Vector2,x=new s.Vector2,P=new s.Vector2,O=[],M={};function A(){return Math.pow(.95,n.zoomSpeed)}function C(e){n.reverseOrbit?p.theta+=e:p.theta-=e}function T(e){n.reverseOrbit?p.phi+=e:p.phi-=e}let j=(()=>{let e=new s.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}})(),L=(()=>{let e=new s.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),m.add(e)}})(),z=(()=>{let e=new s.Vector3;return function(t,r){let i=n.domElement;if(i&&n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera){let o=n.object.position;e.copy(o).sub(n.target);let a=e.length();j(2*t*(a*=Math.tan(n.object.fov/2*Math.PI/180))/i.clientHeight,n.object.matrix),L(2*r*a/i.clientHeight,n.object.matrix)}else i&&n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(j(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),L(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function k(e){n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera?h/=e:n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function I(e){n.object instanceof s.PerspectiveCamera&&n.object.isPerspectiveCamera?h*=e:n.object instanceof s.OrthographicCamera&&n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),v=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function D(e){b.set(e.clientX,e.clientY)}function R(e){w.set(e.clientX,e.clientY)}function U(){if(1==O.length)b.set(O[0].pageX,O[0].pageY);else{let e=.5*(O[0].pageX+O[1].pageX),t=.5*(O[0].pageY+O[1].pageY);b.set(e,t)}}function B(){if(1==O.length)w.set(O[0].pageX,O[0].pageY);else{let e=.5*(O[0].pageX+O[1].pageX),t=.5*(O[0].pageY+O[1].pageY);w.set(e,t)}}function N(){let e=O[0].pageX-O[1].pageX,t=O[0].pageY-O[1].pageY;S.set(0,Math.sqrt(e*e+t*t))}function H(e){if(1==O.length)g.set(e.pageX,e.pageY);else{let t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);g.set(n,r)}y.subVectors(g,b).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(C(2*Math.PI*y.x/t.clientHeight),T(2*Math.PI*y.y/t.clientHeight)),b.copy(g)}function F(e){if(1==O.length)_.set(e.pageX,e.pageY);else{let t=$(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);_.set(n,r)}E.subVectors(_,w).multiplyScalar(n.panSpeed),z(E.x,E.y),w.copy(_)}function V(e){let t=$(e),r=e.pageX-t.x,i=e.pageY-t.y;x.set(0,Math.sqrt(r*r+i*i)),P.set(0,Math.pow(x.y/S.y,n.zoomSpeed)),k(P.y),S.copy(x)}function Y(e){if(!1!==n.enabled){var t,r;0===O.length&&(null===(t=n.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",W),null===(r=n.domElement)||void 0===r||r.ownerDocument.addEventListener("pointerup",q)),O.push(e),"touch"===e.pointerType?function(e){switch(Q(e),O.length){case 1:switch(n.touches.ONE){case s.TOUCH.ROTATE:if(!1===n.enableRotate)return;U(),u=a.TOUCH_ROTATE;break;case s.TOUCH.PAN:if(!1===n.enablePan)return;B(),u=a.TOUCH_PAN;break;default:u=a.NONE}break;case 2:switch(n.touches.TWO){case s.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&N(),n.enablePan&&B(),u=a.TOUCH_DOLLY_PAN;break;case s.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&N(),n.enableRotate&&U(),u=a.TOUCH_DOLLY_ROTATE;break;default:u=a.NONE}break;default:u=a.NONE}u!==a.NONE&&n.dispatchEvent(i)}(e):function(e){let t;switch(e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case s.MOUSE.DOLLY:if(!1===n.enableZoom)return;S.set(e.clientX,e.clientY),u=a.DOLLY;break;case s.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),u=a.PAN}else{if(!1===n.enableRotate)return;D(e),u=a.ROTATE}break;case s.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;D(e),u=a.ROTATE}else{if(!1===n.enablePan)return;R(e),u=a.PAN}break;default:u=a.NONE}u!==a.NONE&&n.dispatchEvent(i)}(e)}}function W(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(Q(e),u){case a.TOUCH_ROTATE:if(!1===n.enableRotate)return;H(e),n.update();break;case a.TOUCH_PAN:if(!1===n.enablePan)return;F(e),n.update();break;case a.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;n.enableZoom&&V(e),n.enablePan&&F(e),n.update();break;case a.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;n.enableZoom&&V(e),n.enableRotate&&H(e),n.update();break;default:u=a.NONE}}(e):function(e){if(!1!==n.enabled)switch(u){case a.ROTATE:if(!1===n.enableRotate)return;!function(e){g.set(e.clientX,e.clientY),y.subVectors(g,b).multiplyScalar(n.rotateSpeed);let t=n.domElement;t&&(C(2*Math.PI*y.x/t.clientHeight),T(2*Math.PI*y.y/t.clientHeight)),b.copy(g),n.update()}(e);break;case a.DOLLY:if(!1===n.enableZoom)return;x.set(e.clientX,e.clientY),P.subVectors(x,S),P.y>0?k(A()):P.y<0&&I(A()),S.copy(x),n.update();break;case a.PAN:if(!1===n.enablePan)return;_.set(e.clientX,e.clientY),E.subVectors(_,w).multiplyScalar(n.panSpeed),z(E.x,E.y),w.copy(_),n.update()}}(e))}function q(e){if(J(e),0===O.length){var t,r,i;null===(t=n.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(r=n.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointermove",W),null===(i=n.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointerup",q)}n.dispatchEvent(o),u=a.NONE}function G(e){J(e)}function X(e){!1!==n.enabled&&!1!==n.enableZoom&&(u===a.NONE||u===a.ROTATE)&&(e.preventDefault(),n.dispatchEvent(i),e.deltaY<0?I(A()):e.deltaY>0&&k(A()),n.update(),n.dispatchEvent(o))}function Z(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){let t=!1;switch(e.code){case n.keys.UP:z(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:z(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:z(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:z(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function K(e){!1!==n.enabled&&e.preventDefault()}function J(e){delete M[e.pointerId];for(let t=0;t<O.length;t++)if(O[t].pointerId==e.pointerId){O.splice(t,1);return}}function Q(e){let t=M[e.pointerId];void 0===t&&(t=new s.Vector2,M[e.pointerId]=t),t.set(e.pageX,e.pageY)}function $(e){return M[(e.pointerId===O[0].pointerId?O[1]:O[0]).pointerId]}void 0!==t&&this.connect(t),this.update()}}let f=o.forwardRef((e,t)=>{let{makeDefault:n,camera:a,regress:l,domElement:s,enableDamping:c=!0,onChange:f,onStart:d,onEnd:p,...h}=e,m=(0,i.z)(e=>e.invalidate),v=(0,i.z)(e=>e.camera),b=(0,i.z)(e=>e.gl),g=(0,i.z)(e=>e.events),y=(0,i.z)(e=>e.setEvents),w=(0,i.z)(e=>e.set),_=(0,i.z)(e=>e.get),E=(0,i.z)(e=>e.performance),S=a||v,x=s||g.connected||b.domElement,P=o.useMemo(()=>new u(S),[S]);return(0,i.A)(()=>{P.enabled&&P.update()},-1),o.useEffect(()=>(P.connect(x),()=>void P.dispose()),[x,l,P,m]),o.useEffect(()=>{let e=e=>{m(),l&&E.regress(),f&&f(e)},t=e=>{d&&d(e)},n=e=>{p&&p(e)};return P.addEventListener("change",e),P.addEventListener("start",t),P.addEventListener("end",n),()=>{P.removeEventListener("start",t),P.removeEventListener("end",n),P.removeEventListener("change",e)}},[f,d,p,P,m,y]),o.useEffect(()=>{if(n){let e=_().controls;return w({controls:P}),()=>w({controls:e})}},[n,P]),o.createElement("primitive",(0,r.Z)({ref:t,object:P,enableDamping:c},h))})},7608:function(e,t,n){"use strict";let r,i,o;n.d(t,{A:function(){return ea},B:function(){return C},E:function(){return T},a:function(){return M},b:function(){return ev},c:function(){return X},d:function(){return eg},e:function(){return E},i:function(){return O},u:function(){return A},z:function(){return eo}});var a,l,s=n(6096),c=n(4090),u=n(4434);let f=!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?c.useEffect:c.useLayoutEffect;var d=n(8911),p=n.n(d),h=n(44);function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e===t;if(e===t)return!0;if(!e||!t)return!1;let r=e.length;if(t.length!==r)return!1;for(let i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}let v=[];function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(let e of v)if(m(t,e.keys,e.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(e,"error"))throw e.error;if(Object.prototype.hasOwnProperty.call(e,"response"))return e.response;if(!n)throw e.promise}let i={keys:t,equal:r.equal,promise:e(...t).then(e=>i.response=e).then(()=>{r.lifespan&&r.lifespan>0&&setTimeout(()=>{let e=v.indexOf(i);-1!==e&&v.splice(e,1)},r.lifespan)}).catch(e=>i.error=e)};if(v.push(i),!n)throw i.promise}let g=(e,t,n)=>b(e,t,!1,n),y=(e,t,n)=>void b(e,t,!0,n),w=e=>{if(void 0===e||0===e.length)v.splice(0,v.length);else{let t=v.find(t=>m(e,t.keys,t.equal));if(t){let e=v.indexOf(t);-1!==e&&v.splice(e,1)}}},_={},E=e=>void Object.assign(_,e),S=e=>"colorSpace"in e||"outputColorSpace"in e,x=()=>{var e;return null!=(e=_.ColorManagement)?e:null},P=e=>e&&e.isOrthographicCamera,O=e=>e&&e.hasOwnProperty("current"),M=null!=(a=window.document)&&a.createElement||(null==(l=window.navigator)?void 0:l.product)==="ReactNative"?c.useLayoutEffect:c.useEffect;function A(e){let t=c.useRef(e);return M(()=>void(t.current=e),[e]),t}function C(e){let{set:t}=e;return M(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class T extends c.Component{componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}constructor(...e){super(...e),this.state={error:!1}}}T.getDerivedStateFromError=()=>({error:!0});let j="__default",L=new Map,z=e=>e&&!!e.memoized&&!!e.changes;function k(e){var t;let n=null!=(t=window.devicePixelRatio)?t:2;return Array.isArray(e)?Math.min(Math.max(e[0],n),e[1]):e}let I=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()},D={obj:e=>e===Object(e)&&!D.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){let n,{arrays:r="shallow",objects:i="reference",strict:o=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(typeof e!=typeof t||!!e!=!!t)return!1;if(D.str(e)||D.num(e))return e===t;let a=D.obj(e);if(a&&"reference"===i)return e===t;let l=D.arr(e);if(l&&"reference"===r)return e===t;if((l||a)&&e===t)return!0;for(n in e)if(!(n in t))return!1;if(a&&"shallow"===r&&"shallow"===i){for(n in o?t:e)if(!D.equ(e[n],t[n],{strict:o,objects:"reference"}))return!1}else for(n in o?t:e)if(e[n]!==t[n])return!1;if(D.und(n)){if(l&&0===e.length&&0===t.length||a&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function R(e,t){return(null!=t&&t.primitive||!e.__r3f)&&(e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t}),e}function U(e,t){let n=e;if(!t.includes("-"))return{target:n,key:t};{let r=t.split("-"),i=r.pop();return{target:n=r.reduce((e,t)=>e[t],e),key:i}}}let B=/-\d+$/;function N(e,t,n){if(D.str(n)){if(B.test(n)){let{target:t,key:r}=U(e,n.replace(B,""));Array.isArray(t[r])||(t[r]=[])}let{target:r,key:i}=U(e,n);t.__r3f.previousAttach=r[i],r[i]=t}else t.__r3f.previousAttach=n(e,t)}function H(e,t,n){var r,i;if(D.str(n)){let{target:r,key:i}=U(e,n),o=t.__r3f.previousAttach;void 0===o?delete r[i]:r[i]=o}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function F(e,t){var n;let{children:r,key:i,ref:o,...a}=t,{children:l,key:s,ref:c,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=null!=(n=null==e?void 0:e.__r3f)?n:{},p=Object.entries(a),h=[];if(f){let e=Object.keys(u);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||p.unshift([e[t],j+"remove"])}p.forEach(t=>{var n;let[r,i]=t;if(null!=(n=e.__r3f)&&n.primitive&&"object"===r||D.equ(i,u[r]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(r))return h.push([r,i,!0,[]]);let o=[];for(let e in r.includes("-")&&(o=r.split("-")),h.push([r,i,!1,o]),a){let t=a[e];e.startsWith("".concat(r,"-"))&&h.push([e,t,!1,e.split("-")])}});let m={...a};return d.memoizedProps&&d.memoizedProps.args&&(m.args=d.memoizedProps.args),d.memoizedProps&&d.memoizedProps.attach&&(m.attach=d.memoizedProps.attach),{memoized:m,changes:h}}function V(e,t){var n,r,i;let o=null!=(n=e.__r3f)?n:{},a=o.root,l=null!=(r=null==a?void 0:null==a.getState?void 0:a.getState())?r:{},{memoized:c,changes:u}=z(t)?t:F(e,t),f=o.eventCount;e.__r3f&&(e.__r3f.memoizedProps=c);for(let t=0;t<u.length;t++){let[n,r,i,a]=u[t];if(S(e)){let e="srgb",t="srgb-linear";"encoding"===n?(n="colorSpace",r=3001===r?e:t):"outputEncoding"===n&&(n="outputColorSpace",r=3001===r?e:t)}let c=e,f=c[n];if(a.length&&!((f=a.reduce((e,t)=>e[t],e))&&f.set)){let[t,...r]=a.reverse();c=r.reverse().reduce((e,t)=>e[t],e),n=t}if(r===j+"remove"){if(c.constructor){let e=L.get(c.constructor);e||(e=new c.constructor,L.set(c.constructor,e)),r=e[n]}else r=0}if(i)r?o.handlers[n]=r:delete o.handlers[n],o.eventCount=Object.keys(o.handlers).length;else if(f&&f.set&&(f.copy||f instanceof s.Layers)){if(Array.isArray(r))f.fromArray?f.fromArray(r):f.set(...r);else if(f.copy&&r&&r.constructor&&f.constructor===r.constructor)f.copy(r);else if(void 0!==r){let e=f instanceof s.Color;!e&&f.setScalar?f.setScalar(r):f instanceof s.Layers&&r instanceof s.Layers?f.mask=r.mask:f.set(r),x()||l.linear||!e||f.convertSRGBToLinear()}}else if(c[n]=r,c[n]instanceof s.Texture&&c[n].format===s.RGBAFormat&&c[n].type===s.UnsignedByteType){let e=c[n];S(e)&&S(l.gl)?e.colorSpace=l.gl.outputColorSpace:e.encoding=l.gl.outputEncoding}Y(e)}if(o.parent&&l.internal&&e.raycast&&f!==o.eventCount){let t=l.internal.interaction.indexOf(e);t>-1&&l.internal.interaction.splice(t,1),o.eventCount&&l.internal.interaction.push(e)}return!(1===u.length&&"onUpdate"===u[0][0])&&u.length&&null!=(i=e.__r3f)&&i.parent&&W(e),e}function Y(e){var t,n;let r=null==(t=e.__r3f)?void 0:null==(n=t.root)?void 0:null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function W(e){null==e.onUpdate||e.onUpdate(e)}function q(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function G(e,t,n,r){let i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function X(e){function t(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}function n(t){let{internal:n}=e.getState();for(let e of n.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(q(e)),null!=r&&r.eventCount){let n={...e,intersections:t};null==i.onPointerOut||i.onPointerOut(n),null==i.onPointerLeave||i.onPointerLeave(n)}}}function r(e,t){for(let n=0;n<t.length;n++){let r=t[n].__r3f;null==r||null==r.handlers.onPointerMissed||r.handlers.onPointerMissed(e)}}return{handlePointer:function(i){switch(i){case"onPointerLeave":case"onPointerCancel":return()=>n([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),n([]))})}}return function(o){let{onPointerMissed:a,internal:l}=e.getState();l.lastEvent.current=o;let c="onPointerMove"===i,u="onClick"===i||"onContextMenu"===i||"onDoubleClick"===i,f=function(t,n){let r=e.getState(),i=new Set,o=[],a=n?n(r.internal.interaction):r.internal.interaction;for(let e=0;e<a.length;e++){let t=I(a[e]);t&&(t.raycaster.camera=void 0)}r.previousRoot||null==r.events.compute||r.events.compute(t,r);let l=a.flatMap(function(e){let n=I(e);if(!n||!n.events.enabled||null===n.raycaster.camera)return[];if(void 0===n.raycaster.camera){var r;null==n.events.compute||n.events.compute(t,n,null==(r=n.previousRoot)?void 0:r.getState()),void 0===n.raycaster.camera&&(n.raycaster.camera=null)}return n.raycaster.camera?n.raycaster.intersectObject(e,!0):[]}).sort((e,t)=>{let n=I(e.object),r=I(t.object);return n&&r&&r.events.priority-n.events.priority||e.distance-t.distance}).filter(e=>{let t=q(e);return!i.has(t)&&(i.add(t),!0)});for(let e of(r.events.filter&&(l=r.events.filter(l,r)),l)){let t=e.object;for(;t;){var s;null!=(s=t.__r3f)&&s.eventCount&&o.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId))for(let e of r.internal.capturedMap.get(t.pointerId).values())i.has(q(e.intersection))||o.push(e.intersection);return o}(o,c?t:void 0),d=u?function(t){let{internal:n}=e.getState(),r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(o):0;"onPointerDown"===i&&(l.initialClick=[o.offsetX,o.offsetY],l.initialHits=f.map(e=>e.eventObject)),u&&!f.length&&d<=2&&(r(o,l.interaction),a&&a(o)),c&&n(f),function(t,r,i,o){let a=e.getState();if(t.length){let e={stopped:!1};for(let l of t){let{raycaster:c,pointer:u,camera:f,internal:d}=I(l.object)||a,p=new s.Vector3(u.x,u.y,0).unproject(f),h=e=>{var t,n;return null!=(t=null==(n=d.capturedMap.get(e))?void 0:n.has(l.eventObject))&&t},m=e=>{let t={intersection:l,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(l.eventObject,t):d.capturedMap.set(e,new Map([[l.eventObject,t]])),r.target.setPointerCapture(e)},v=e=>{let t=d.capturedMap.get(e);t&&G(d.capturedMap,l.eventObject,t,e)},b={};for(let e in r){let t=r[e];"function"!=typeof t&&(b[e]=t)}let g={...l,...b,pointer:u,intersections:t,stopped:e.stopped,delta:i,unprojectedPoint:p,ray:c.ray,camera:f,stopPropagation(){let i="pointerId"in r&&d.capturedMap.get(r.pointerId);(!i||i.has(l.eventObject))&&(g.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===l.eventObject)&&n([...t.slice(0,t.indexOf(l)),l]))},target:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},currentTarget:{hasPointerCapture:h,setPointerCapture:m,releasePointerCapture:v},nativeEvent:r};if(o(g),!0===e.stopped)break}}}(f,o,d,function(e){let t=e.eventObject,n=t.__r3f,a=null==n?void 0:n.handlers;if(null!=n&&n.eventCount){if(c){if(a.onPointerOver||a.onPointerEnter||a.onPointerOut||a.onPointerLeave){let t=q(e),n=l.hovered.get(t);n?n.stopped&&e.stopPropagation():(l.hovered.set(t,e),null==a.onPointerOver||a.onPointerOver(e),null==a.onPointerEnter||a.onPointerEnter(e))}null==a.onPointerMove||a.onPointerMove(e)}else{let n=a[i];n?(!u||l.initialHits.includes(t))&&(r(o,l.interaction.filter(e=>!l.initialHits.includes(e))),n(e)):u&&l.initialHits.includes(t)&&r(o,l.interaction.filter(e=>!l.initialHits.includes(e)))}}})}}}}let Z=e=>!!(null!=e&&e.render),K=c.createContext(null),J=(e,t)=>{let n=function(e){let t="function"==typeof e?function(e){let t;let n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,o=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let a=r(t);function l(){let n=r(t);if(!o(a,n)){let t=a;e(a=n,t)}}return n.add(l),()=>n.delete(l)},a={setState:r,getState:i,subscribe:(e,t,r)=>t||r?o(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,a),a}(e):e,n=function(){let e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,i]=(0,c.useReducer)(e=>e+1,0),o=t.getState(),a=(0,c.useRef)(o),l=(0,c.useRef)(n),s=(0,c.useRef)(r),u=(0,c.useRef)(!1),d=(0,c.useRef)();void 0===d.current&&(d.current=n(o));let p=!1;(a.current!==o||l.current!==n||s.current!==r||u.current)&&(e=n(o),p=!r(d.current,e)),f(()=>{p&&(d.current=e),a.current=o,l.current=n,s.current=r,u.current=!1});let h=(0,c.useRef)(o);f(()=>{let e=()=>{try{let e=t.getState(),n=l.current(e);s.current(d.current,n)||(a.current=e,d.current=n,i())}catch(e){u.current=!0,i()}},n=t.subscribe(e);return t.getState()!==h.current&&e(),n},[]);let m=p?e:d.current;return(0,c.useDebugValue)(m),m};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[n,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},n}((n,r)=>{let i;let o=new s.Vector3,a=new s.Vector3,l=new s.Vector3;function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().size,{width:i,height:c,top:u,left:f}=n,d=i/c;t instanceof s.Vector3?l.copy(t):l.set(...t);let p=e.getWorldPosition(o).distanceTo(l);if(P(e))return{width:i/e.zoom,height:c/e.zoom,top:u,left:f,factor:1,distance:p,aspect:d};{let t=2*Math.tan(e.fov*Math.PI/180/2)*p,n=i/c*t;return{width:n,height:t,top:u,left:f,factor:i/n,distance:p,aspect:d}}}let f=e=>n(t=>({performance:{...t.performance,current:e}})),d=new s.Vector2;return{set:n,get:r,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return e(r(),t)},advance:(e,n)=>t(e,n,r()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new s.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=r();i&&clearTimeout(i),e.performance.current!==e.performance.min&&f(e.performance.min),i=setTimeout(()=>f(r().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:u},setEvents:e=>n(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,i,o,l)=>{let s=r().camera,c={width:e,height:t,top:o||0,left:l||0,updateStyle:i};n(e=>({size:c,viewport:{...e.viewport,...u(s,a,c)}}))},setDpr:e=>n(t=>{let n=k(e);return{viewport:{...t.viewport,dpr:n,initialDpr:t.viewport.initialDpr||n}}}),setFrameloop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=r().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:c.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,n)=>{let i=r().internal;return i.priority=i.priority+(t>0?1:0),i.subscribers.push({ref:e,priority:t,store:n}),i.subscribers=i.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let n=r().internal;null!=n&&n.subscribers&&(n.priority=n.priority-(t>0?1:0),n.subscribers=n.subscribers.filter(t=>t.ref!==e))}}}}}),r=n.getState(),i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{let{camera:e,size:t,viewport:r,gl:l,set:s}=n.getState();if(t!==i||r.dpr!==o){var c;i=t,o=r.dpr,e.manual||(P(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld()),l.setPixelRatio(r.dpr);let n=null!=(c=t.updateStyle)?c:"undefined"!=typeof HTMLCanvasElement&&l.domElement instanceof HTMLCanvasElement;l.setSize(t.width,t.height,n)}e!==a&&(a=e,s(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),n.subscribe(t=>e(t)),n},Q=new Set,$=new Set,ee=new Set;function et(e,t){if(e.size)for(let{callback:n}of e.values())n(t)}function en(e,t){switch(e){case"before":return et(Q,t);case"after":return et($,t);case"tail":return et(ee,t)}}function er(e,t,n){let a=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(a=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),i=t.internal.subscribers,r=0;r<i.length;r++)(o=i[r]).ref.current(o.store.getState(),a,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ei(){let e=c.useContext(K);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function eo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e,t=arguments.length>1?arguments[1]:void 0;return ei()(e,t)}function ea(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=ei(),r=n.getState().internal.subscribe,i=A(e);return M(()=>r(i,t,n),[t,r,n]),null}function el(e,t){return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];let a=new n;return e&&e(a),Promise.all(i.map(e=>new Promise((n,r)=>a.load(e,e=>{e.scene&&Object.assign(e,function(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}(e.scene)),n(e)},t,t=>r(Error("Could not load ".concat(e,": ").concat(t.message,")")))))))}}function es(e,t,n,r){let i=Array.isArray(t)?t:[t],o=g(el(n,r),[e,...i],{equal:D.equ});return Array.isArray(t)?o:o[0]}es.preload=function(e,t,n){let r=Array.isArray(t)?t:[t];return y(el(n),[e,...r])},es.clear=function(e,t){return w([e,...Array.isArray(t)?t:[t]])};let ec=new Map,{invalidate:eu,advance:ef}=function(e){let t,n,r,i=!1;function o(a){for(let s of(n=requestAnimationFrame(o),i=!0,t=0,en("before",a),e.values())){var l;(r=s.store.getState()).internal.active&&("always"===r.frameloop||r.internal.frames>0)&&!(null!=(l=r.gl.xr)&&l.isPresenting)&&(t+=er(a,r))}if(en("after",a),0===t)return en("tail",a),i=!1,cancelAnimationFrame(n)}return{loop:o,invalidate:function t(n){var r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!n)return e.forEach(e=>t(e.store.getState()),a);null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+a),i||(i=!0,requestAnimationFrame(o)))},advance:function(t){let n=!(arguments.length>1)||void 0===arguments[1]||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(n&&en("before",t),r)er(t,r,i);else for(let n of e.values())er(t,n.store.getState());n&&en("after",t)}}}(ec),{reconciler:ed,applyProps:ep}=function(e,t){function n(e,t,n){let r,{args:i=[],attach:o,...a}=t,l="".concat(e[0].toUpperCase()).concat(e.slice(1));if("primitive"===e){if(void 0===a.object)throw Error("R3F: Primitives without 'object' are invalid!");r=R(a.object,{type:e,root:n,attach:o,primitive:!0})}else{let t=_[l];if(!t)throw Error("R3F: ".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively"));if(!Array.isArray(i))throw Error("R3F: The args prop must be an array!");r=R(new t(...i),{type:e,root:n,attach:o,memoizedProps:{args:i}})}return void 0===r.__r3f.attach&&(r instanceof s.BufferGeometry?r.__r3f.attach="geometry":r instanceof s.Material&&(r.__r3f.attach="material")),"inject"!==l&&V(r,a),r}function r(e,t){let n=!1;if(t){var r,i;null!=(r=t.__r3f)&&r.attach?N(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),n=!0),n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||R(t,{}),t.__r3f.parent=e,W(t),Y(t)}}function i(e,t,n){let r=!1;if(t){var i,o;if(null!=(i=t.__r3f)&&i.attach)N(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let i=e.children.filter(e=>e!==t),o=i.indexOf(n);e.children=[...i.slice(0,o),t,...i.slice(o)],r=!0}r||null==(o=e.__r3f)||o.objects.push(t),t.__r3f||R(t,{}),t.__r3f.parent=e,W(t),Y(t)}}function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&[...e].forEach(e=>a(t,e,n))}function a(e,t,n){if(t){var r,i,a,l,s;t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(i=t.__r3f)&&i.attach?H(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(l=t.__r3f)&&l.root&&function(e,t){let{internal:n}=e.getState();n.interaction=n.interaction.filter(e=>e!==t),n.initialHits=n.initialHits.filter(e=>e!==t),n.hovered.forEach((e,r)=>{(e.eventObject===t||e.object===t)&&n.hovered.delete(r)}),n.capturedMap.forEach((e,r)=>{G(n.capturedMap,t,e,r)})}(t.__r3f.root,t));let c=null==(a=t.__r3f)?void 0:a.primitive,u=void 0===n?null!==t.dispose&&!c:n;c||(o(null==(s=t.__r3f)?void 0:s.objects,t,u),o(t.children,t,u)),t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,c||delete t.__r3f),u&&t.dispose&&"Scene"!==t.type&&(0,h.unstable_scheduleCallback)(h.unstable_IdlePriority,()=>{try{t.dispose()}catch(e){}}),Y(e)}}let l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:p()({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let n=e.getState().scene;n.__r3f&&(n.__r3f.root=e,r(n,t))},removeChildFromContainer:(e,t)=>{t&&a(e.getState().scene,t)},insertInContainerBefore:(e,t,n)=>{if(!t||!n)return;let r=e.getState().scene;r.__r3f&&i(r,t,n)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];{let{args:t=[],children:i,...o}=r,{args:a=[],children:l,...s}=n;if(!Array.isArray(t))throw Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==a[t]))return[!0];let c=F(e,o,s,!0);return c.changes.length?[!1,c]:null}},commitUpdate(e,t,i,o,l,s){let[c,u]=t;c?function(e,t,i,o){var l;let s=null==(l=e.__r3f)?void 0:l.parent;if(!s)return;let c=n(t,i,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&r(c,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>r(c,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||a(s,e),c.parent&&(c.__r3f.autoRemovedBeforeAppend=!0),r(s,c),c.raycast&&c.__r3f.eventCount&&c.__r3f.root.getState().internal.interaction.push(c),[o,o.alternate].forEach(e=>{null!==e&&(e.stateNode=c,e.ref&&("function"==typeof e.ref?e.ref(c):e.ref.current=c))})}(e,i,l,s):V(e,u)},commitMount(e,t,n,r){var i;let o=null!=(i=e.__r3f)?i:{};e.raycast&&o.handlers&&o.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>R(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:n,parent:r}=null!=(t=e.__r3f)?t:{};n&&r&&H(r,e,n),e.isObject3D&&(e.visible=!1),Y(e)},unhideInstance(e,t){var n;let{attach:r,parent:i}=null!=(n=e.__r3f)?n:{};r&&i&&N(i,e,r),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Y(e)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>t?t():u.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&D.fun(performance.now)?performance.now:D.fun(Date.now)?Date.now:()=>0,scheduleTimeout:D.fun(setTimeout)?setTimeout:void 0,cancelTimeout:D.fun(clearTimeout)?clearTimeout:void 0}),applyProps:V}}(0,function(){var e;let t="undefined"!=typeof self&&self||window;if(!t)return u.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return u.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return u.ContinuousEventPriority;default:return u.DefaultEventPriority}}),eh={objects:"shallow",strict:!1},em=(e,t)=>{let n="function"==typeof e?e(t):e;return Z(n)?n:new s.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ev(e){let t,n;let r=ec.get(e),i=null==r?void 0:r.fiber,o=null==r?void 0:r.store;r&&console.warn("R3F.createRoot should only be called once!");let a="function"==typeof reportError?reportError:console.error,l=o||J(eu,ef),f=i||ed.createContainer(l,u.ConcurrentRoot,null,!1,null,"",a,null);r||ec.set(e,{fiber:f,store:l});let d=!1;return{configure(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{gl:i,size:o,scene:a,events:c,onCreated:u,shadows:f=!1,linear:p=!1,flat:h=!1,legacy:m=!1,orthographic:v=!1,frameloop:b="always",dpr:g=[1,2],performance:y,raycaster:w,camera:_,onPointerMissed:E}=r,S=l.getState(),P=S.gl;S.gl||S.set({gl:P=em(i,e)});let O=S.raycaster;O||S.set({raycaster:O=new s.Raycaster});let{params:M,...A}=w||{};if(D.equ(A,O,eh)||ep(O,{...A}),D.equ(M,O.params,eh)||ep(O,{params:{...O.params,...M}}),!S.camera||S.camera===n&&!D.equ(n,_,eh)){n=_;let e=_ instanceof s.Camera,t=e?_:v?new s.OrthographicCamera(0,0,0,0,.1,1e3):new s.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,_&&ep(t,_),S.camera||null!=_&&_.rotation||t.lookAt(0,0,0)),S.set({camera:t})}if(!S.scene){let e;a instanceof s.Scene?e=a:(e=new s.Scene,a&&ep(e,a)),S.set({scene:R(e)})}if(!S.xr){let e=(e,t)=>{let n=l.getState();"never"!==n.frameloop&&ef(e,!0,n,t)},t=()=>{let t=l.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||eu(t)},n={connect(){let e=l.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=l.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};P.xr&&n.connect(),S.set({xr:n})}if(P.shadowMap){let e=P.shadowMap.enabled,t=P.shadowMap.type;if(P.shadowMap.enabled=!!f,D.boo(f))P.shadowMap.type=s.PCFSoftShadowMap;else if(D.str(f)){var C;let e={basic:s.BasicShadowMap,percentage:s.PCFShadowMap,soft:s.PCFSoftShadowMap,variance:s.VSMShadowMap};P.shadowMap.type=null!=(C=e[f])?C:s.PCFSoftShadowMap}else D.obj(f)&&Object.assign(P.shadowMap,f);(e!==P.shadowMap.enabled||t!==P.shadowMap.type)&&(P.shadowMap.needsUpdate=!0)}let T=x();T&&("enabled"in T?T.enabled=!m:"legacyMode"in T&&(T.legacyMode=m)),ep(P,{outputEncoding:p?3e3:3001,toneMapping:h?s.NoToneMapping:s.ACESFilmicToneMapping}),S.legacy!==m&&S.set(()=>({legacy:m})),S.linear!==p&&S.set(()=>({linear:p})),S.flat!==h&&S.set(()=>({flat:h})),!i||D.fun(i)||Z(i)||D.equ(i,P,eh)||ep(P,i),c&&!S.events.handlers&&S.set({events:c(l)});let j=function(e,t){if(t)return t;if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:r,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:r,left:i}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0}:{width:0,height:0,top:0,left:0}}(e,o);return D.equ(j,S.size,eh)||S.setSize(j.width,j.height,j.updateStyle,j.top,j.left),g&&S.viewport.dpr!==k(g)&&S.setDpr(g),S.frameloop!==b&&S.setFrameloop(b),S.onPointerMissed||S.set({onPointerMissed:E}),y&&!D.equ(y,S.performance,eh)&&S.set(e=>({performance:{...e.performance,...y}})),t=u,d=!0,this},render(n){return d||this.configure(),ed.updateContainer(c.createElement(eb,{store:l,children:n,onCreated:t,rootElement:e}),f,null,()=>void 0),l},unmount(){eg(e)}}}function eb(e){let{store:t,children:n,onCreated:r,rootElement:i}=e;return M(()=>{let e=t.getState();e.set(e=>({internal:{...e.internal,active:!0}})),r&&r(e),t.getState().events.connected||null==e.events.connect||e.events.connect(i)},[]),c.createElement(K.Provider,{value:t},n)}function eg(e,t){let n=ec.get(e),r=null==n?void 0:n.fiber;if(r){let i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),ed.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var n,r,o,a;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(o=i.gl)||null==o.forceContextLoss||o.forceContextLoss(),null!=(a=i.gl)&&a.xr&&i.xr.disconnect(),function(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),ec.delete(e),t&&t(e)}catch(e){}},500)})}}ed.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:c.version}),c.unstable_act},3876:function(e,t,n){"use strict";n.d(t,{Xz:function(){return A}});var r=n(7608),i=n(7500),o=n(4090),a=n(6096),l=n(2716),s=n.n(l);let c=["x","y","top","bottom","left","right","width","height"],u=(e,t)=>c.every(n=>e[n]===t[n]);var f=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,h=Object.getOwnPropertySymbols,m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,b=(e,t,n)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,g=(e,t)=>{for(var n in t||(t={}))m.call(t,n)&&b(e,n,t[n]);if(h)for(var n of h(t))v.call(t,n)&&b(e,n,t[n]);return e},y=(e,t)=>d(e,p(t));function w(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}let _=w(o.createContext(null));class E extends o.Component{render(){return o.createElement(_.Provider,{value:this._reactInternals},this.props.children)}}let{ReactCurrentOwner:S,ReactCurrentDispatcher:x}=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;n(4434),n(8911),n(44);let P={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function O(e){let{handlePointer:t}=(0,r.c)(e);return{priority:1,enabled:!0,compute(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(P).reduce((e,n)=>({...e,[n]:t(n)}),{}),update:()=>{var t;let{events:n,internal:r}=e.getState();null!=(t=r.lastEvent)&&t.current&&n.handlers&&n.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{var n;let{set:r,events:i}=e.getState();null==i.disconnect||i.disconnect(),r(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(n=i.handlers)?n:[]).forEach(e=>{let[n,r]=e,[i,o]=P[n];t.addEventListener(i,r,{passive:o})})},disconnect:()=>{let{set:t,events:n}=e.getState();if(n.connected){var r;Object.entries(null!=(r=n.handlers)?r:[]).forEach(e=>{let[t,r]=e;if(n&&n.connected instanceof HTMLElement){let[e]=P[t];n.connected.removeEventListener(e,r)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let M=o.forwardRef(function(e,t){let{children:n,fallback:l,resize:c,style:f,gl:d,events:p=O,eventSource:h,eventPrefix:m,shadows:v,linear:b,flat:P,legacy:M,orthographic:A,frameloop:C,dpr:T,performance:j,raycaster:L,camera:z,onPointerMissed:k,onCreated:I,...D}=e;o.useMemo(()=>(0,r.e)(a),[]);let R=function(){let e=function(){var e,t;let n=function(){let e=o.useContext(_);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=o.useId();return o.useMemo(()=>{for(let n of[null==S?void 0:S.current,e,null==e?void 0:e.alternate]){if(!n)continue;let e=function e(t,n,r){if(!t)return;if(!0===r(t))return t;let i=n?t.return:t.child;for(;i;){let t=e(i,n,r);if(t)return t;i=n?null:i.sibling}}(n,!1,e=>{let n=e.memoizedState;for(;n;){if(n.memoizedState===t)return!0;n=n.next}});if(e)return e}},[e,t])}(),[r]=o.useState(()=>new Map);r.clear();let i=n;for(;i;){let n=null==(e=i.type)?void 0:e._context;n&&n!==_&&!r.has(n)&&r.set(n,null==(t=null==x?void 0:x.current)?void 0:t.readContext(w(n))),i=i.return}return r}();return o.useMemo(()=>Array.from(e.keys()).reduce((t,n)=>r=>o.createElement(t,null,o.createElement(n.Provider,y(g({},r),{value:e.get(n)}))),e=>o.createElement(E,g({},e))),[e])}(),[U,B]=function(e){var t;let{debounce:n,scroll:r,polyfill:i,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,l=i||window.ResizeObserver;if(!l)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[c,f]=(0,o.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=(0,o.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:c}),p=n?"number"==typeof n?n:n.scroll:null,h=n?"number"==typeof n?n:n.resize:null,m=(0,o.useRef)(!1);(0,o.useEffect)(()=>(m.current=!0,()=>void(m.current=!1)));let[v,b,g]=(0,o.useMemo)(()=>{let e=()=>{if(!d.current.element)return;let{left:e,top:t,width:n,height:r,bottom:i,right:o,x:l,y:s}=d.current.element.getBoundingClientRect(),c={left:e,top:t,width:n,height:r,bottom:i,right:o,x:l,y:s};d.current.element instanceof HTMLElement&&a&&(c.height=d.current.element.offsetHeight,c.width=d.current.element.offsetWidth),Object.freeze(c),m.current&&!u(d.current.lastBounds,c)&&f(d.current.lastBounds=c)};return[e,h?s()(e,h):e,p?s()(e,p):e]},[f,a,p,h]);function y(){d.current.scrollContainers&&(d.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",g,!0)),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function w(){d.current.element&&(d.current.resizeObserver=new l(g),d.current.resizeObserver.observe(d.current.element),r&&d.current.scrollContainers&&d.current.scrollContainers.forEach(e=>e.addEventListener("scroll",g,{capture:!0,passive:!0})))}return t=!!r,(0,o.useEffect)(()=>{if(t)return window.addEventListener("scroll",g,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",g,!0)},[g,t]),(0,o.useEffect)(()=>(window.addEventListener("resize",b),()=>void window.removeEventListener("resize",b)),[b]),(0,o.useEffect)(()=>{y(),w()},[r,g,b]),(0,o.useEffect)(()=>y,[]),[e=>{e&&e!==d.current.element&&(y(),d.current.element=e,d.current.scrollContainers=function e(t){let n=[];if(!t||t===document.body)return n;let{overflow:r,overflowX:i,overflowY:o}=window.getComputedStyle(t);return[r,i,o].some(e=>"auto"===e||"scroll"===e)&&n.push(t),[...n,...e(t.parentElement)]}(e),w())},c,v]}({scroll:!0,debounce:{scroll:50,resize:0},...c}),N=o.useRef(null),H=o.useRef(null);o.useImperativeHandle(t,()=>N.current);let F=(0,r.u)(k),[V,Y]=o.useState(!1),[W,q]=o.useState(!1);if(V)throw V;if(W)throw W;let G=o.useRef(null);(0,r.a)(()=>{let e=N.current;B.width>0&&B.height>0&&e&&(G.current||(G.current=(0,r.b)(e)),G.current.configure({gl:d,events:p,shadows:v,linear:b,flat:P,legacy:M,orthographic:A,frameloop:C,dpr:T,performance:j,raycaster:L,camera:z,size:B,onPointerMissed:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==F.current?void 0:F.current(...t)},onCreated:e=>{null==e.events.connect||e.events.connect(h?(0,r.i)(h)?h.current:h:H.current),m&&e.setEvents({compute:(e,t)=>{let n=e[m+"X"],r=e[m+"Y"];t.pointer.set(n/t.size.width*2-1,-(r/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==I||I(e)}}),G.current.render(o.createElement(R,null,o.createElement(r.E,{set:q},o.createElement(o.Suspense,{fallback:o.createElement(r.B,{set:Y})},n)))))}),o.useEffect(()=>{let e=N.current;if(e)return()=>(0,r.d)(e)},[]);let X=h?"none":"auto";return o.createElement("div",(0,i.Z)({ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...f}},D),o.createElement("div",{ref:U,style:{width:"100%",height:"100%"}},o.createElement("canvas",{ref:N,style:{display:"block"}},l)))}),A=o.forwardRef(function(e,t){return o.createElement(E,null,o.createElement(M,(0,i.Z)({},e,{ref:t})))})},8439:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>o(s,n))c<i&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else if(c<i&&0>o(u,n))e[r]=u,e[c]=n,r=c;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],f=[],d=1,p=null,h=3,m=!1,v=!1,b=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(u,t);else break;t=r(f)}}function E(e){if(b=!1,_(e),!v){if(null!==r(u))v=!0,z(S);else{var t=r(f);null!==t&&k(E,t.startTime-e)}}}function S(e,n){v=!1,b&&(b=!1,y(O),O=-1),m=!0;var o=h;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!C());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var l=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===r(u)&&i(u),_(n)}else i(u);p=r(u)}if(null!==p)var s=!0;else{var c=r(f);null!==c&&k(E,c.startTime-n),s=!1}return s}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x=!1,P=null,O=-1,M=5,A=-1;function C(){return!(t.unstable_now()-A<M)}function T(){if(null!==P){var e=t.unstable_now();A=e;var n=!0;try{n=P(!0,e)}finally{n?a():(x=!1,P=null)}}else x=!1}if("function"==typeof w)a=function(){w(T)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,L=j.port2;j.port1.onmessage=T,a=function(){L.postMessage(null)}}else a=function(){g(T,0)};function z(e){P=e,x||(x=!0,a())}function k(e,n){O=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,z(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>a?(e.sortIndex=o,n(f,e),null===r(u)&&e===r(f)&&(b?(y(O),O=-1):b=!0,k(E,o-a))):(e.sortIndex=l,n(u,e),v||m||(v=!0,z(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},44:function(e,t,n){"use strict";e.exports=n(8439)},2716:function(e){"use strict";function t(e,t,n){function r(){var c=Date.now()-l;c<t&&c>=0?i=setTimeout(r,t-c):(i=null,n||(s=e.apply(a,o),a=o=null))}null==t&&(t=100);var i,o,a,l,s,c=function(){a=this,o=arguments,l=Date.now();var c=n&&!i;return i||(i=setTimeout(r,t)),c&&(s=e.apply(a,o),a=o=null),s};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(s=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},c}t.debounce=t,e.exports=t},3843:function(e,t){"use strict";/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},4434:function(e,t,n){"use strict";e.exports=n(3843)},8911:function(e,t,n){"use strict";e.exports=n(733)},6378:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<o(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var l=2*(r+1)-1,s=e[l],c=l+1,u=e[c];if(0>o(s,n))c<i&&0>o(u,s)?(e[r]=u,e[c]=n,r=c):(e[r]=s,e[l]=n,r=l);else if(c<i&&0>o(u,n))e[r]=u,e[c]=n,r=c;else break}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a,l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],f=[],d=1,p=null,h=3,m=!1,v=!1,b=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function _(e){for(var t=r(f);null!==t;){if(null===t.callback)i(f);else if(t.startTime<=e)i(f),t.sortIndex=t.expirationTime,n(u,t);else break;t=r(f)}}function E(e){if(b=!1,_(e),!v){if(null!==r(u))v=!0,z(S);else{var t=r(f);null!==t&&k(E,t.startTime-e)}}}function S(e,n){v=!1,b&&(b=!1,y(O),O=-1),m=!0;var o=h;try{for(_(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!C());){var a=p.callback;if("function"==typeof a){p.callback=null,h=p.priorityLevel;var l=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?p.callback=l:p===r(u)&&i(u),_(n)}else i(u);p=r(u)}if(null!==p)var s=!0;else{var c=r(f);null!==c&&k(E,c.startTime-n),s=!1}return s}finally{p=null,h=o,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x=!1,P=null,O=-1,M=5,A=-1;function C(){return!(t.unstable_now()-A<M)}function T(){if(null!==P){var e=t.unstable_now();A=e;var n=!0;try{n=P(!0,e)}finally{n?a():(x=!1,P=null)}}else x=!1}if("function"==typeof w)a=function(){w(T)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel,L=j.port2;j.port1.onmessage=T,a=function(){L.postMessage(null)}}else a=function(){g(T,0)};function z(e){P=e,x||(x=!0,a())}function k(e,n){O=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,z(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return l=o+l,e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:l,sortIndex:-1},o>a?(e.sortIndex=o,n(f,e),null===r(u)&&e===r(f)&&(b?(y(O),O=-1):b=!0,k(E,o-a))):(e.sortIndex=l,n(u,e),v||m||(v=!0,z(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},140:function(e,t,n){"use strict";e.exports=n(6378)},4814:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(6096);r.UniformsLib.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new r.Vector2(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}},r.ShaderLib.line={uniforms:r.UniformsUtils.merge([r.UniformsLib.common,r.UniformsLib.fog,r.UniformsLib.line]),vertexShader:"\n		#include <common>\n		#include <color_pars_vertex>\n		#include <fog_pars_vertex>\n		#include <logdepthbuf_pars_vertex>\n		#include <clipping_planes_pars_vertex>\n\n		uniform float linewidth;\n		uniform vec2 resolution;\n\n		attribute vec3 instanceStart;\n		attribute vec3 instanceEnd;\n\n		attribute vec3 instanceColorStart;\n		attribute vec3 instanceColorEnd;\n\n		#ifdef WORLD_UNITS\n\n			varying vec4 worldPos;\n			varying vec3 worldStart;\n			varying vec3 worldEnd;\n\n			#ifdef USE_DASH\n\n				varying vec2 vUv;\n\n			#endif\n\n		#else\n\n			varying vec2 vUv;\n\n		#endif\n\n		#ifdef USE_DASH\n\n			uniform float dashScale;\n			attribute float instanceDistanceStart;\n			attribute float instanceDistanceEnd;\n			varying float vLineDistance;\n\n		#endif\n\n		void trimSegment( const in vec4 start, inout vec4 end ) {\n\n			// trim end segment so it terminates between the camera plane and the near plane\n\n			// conservative estimate of the near plane\n			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n			float nearEstimate = - 0.5 * b / a;\n\n			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n			end.xyz = mix( start.xyz, end.xyz, alpha );\n\n		}\n\n		void main() {\n\n			#ifdef USE_COLOR\n\n				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n			#endif\n\n			#ifdef USE_DASH\n\n				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n				vUv = uv;\n\n			#endif\n\n			float aspect = resolution.x / resolution.y;\n\n			// camera space\n			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n			#ifdef WORLD_UNITS\n\n				worldStart = start.xyz;\n				worldEnd = end.xyz;\n\n			#else\n\n				vUv = uv;\n\n			#endif\n\n			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n			// perhaps there is a more elegant solution -- WestLangley\n\n			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n			if ( perspective ) {\n\n				if ( start.z < 0.0 && end.z >= 0.0 ) {\n\n					trimSegment( start, end );\n\n				} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n					trimSegment( end, start );\n\n				}\n\n			}\n\n			// clip space\n			vec4 clipStart = projectionMatrix * start;\n			vec4 clipEnd = projectionMatrix * end;\n\n			// ndc space\n			vec3 ndcStart = clipStart.xyz / clipStart.w;\n			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;\n\n			// direction\n			vec2 dir = ndcEnd.xy - ndcStart.xy;\n\n			// account for clip-space aspect ratio\n			dir.x *= aspect;\n			dir = normalize( dir );\n\n			#ifdef WORLD_UNITS\n\n				// get the offset direction as perpendicular to the view vector\n				vec3 worldDir = normalize( end.xyz - start.xyz );\n				vec3 offset;\n				if ( position.y < 0.5 ) {\n\n					offset = normalize( cross( start.xyz, worldDir ) );\n\n				} else {\n\n					offset = normalize( cross( end.xyz, worldDir ) );\n\n				}\n\n				// sign flip\n				if ( position.x < 0.0 ) offset *= - 1.0;\n\n				float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );\n\n				// don't extend the line if we're rendering dashes because we\n				// won't be rendering the endcaps\n				#ifndef USE_DASH\n\n					// extend the line bounds to encompass  endcaps\n					start.xyz += - worldDir * linewidth * 0.5;\n					end.xyz += worldDir * linewidth * 0.5;\n\n					// shift the position of the quad so it hugs the forward edge of the line\n					offset.xy -= dir * forwardOffset;\n					offset.z += 0.5;\n\n				#endif\n\n				// endcaps\n				if ( position.y > 1.0 || position.y < 0.0 ) {\n\n					offset.xy += dir * 2.0 * forwardOffset;\n\n				}\n\n				// adjust for linewidth\n				offset *= linewidth * 0.5;\n\n				// set the world position\n				worldPos = ( position.y < 0.5 ) ? start : end;\n				worldPos.xyz += offset;\n\n				// project the worldpos\n				vec4 clip = projectionMatrix * worldPos;\n\n				// shift the depth of the projected points so the line\n				// segments overlap neatly\n				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;\n				clip.z = clipPose.z * clip.w;\n\n			#else\n\n				vec2 offset = vec2( dir.y, - dir.x );\n				// undo aspect ratio adjustment\n				dir.x /= aspect;\n				offset.x /= aspect;\n\n				// sign flip\n				if ( position.x < 0.0 ) offset *= - 1.0;\n\n				// endcaps\n				if ( position.y < 0.0 ) {\n\n					offset += - dir;\n\n				} else if ( position.y > 1.0 ) {\n\n					offset += dir;\n\n				}\n\n				// adjust for linewidth\n				offset *= linewidth;\n\n				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n				offset /= resolution.y;\n\n				// select end\n				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n				// back to clip space\n				offset *= clip.w;\n\n				clip.xy += offset;\n\n			#endif\n\n			gl_Position = clip;\n\n			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n			#include <logdepthbuf_vertex>\n			#include <clipping_planes_vertex>\n			#include <fog_vertex>\n\n		}\n		",fragmentShader:"\n		uniform vec3 diffuse;\n		uniform float opacity;\n		uniform float linewidth;\n\n		#ifdef USE_DASH\n\n			uniform float dashOffset;\n			uniform float dashSize;\n			uniform float gapSize;\n\n		#endif\n\n		varying float vLineDistance;\n\n		#ifdef WORLD_UNITS\n\n			varying vec4 worldPos;\n			varying vec3 worldStart;\n			varying vec3 worldEnd;\n\n			#ifdef USE_DASH\n\n				varying vec2 vUv;\n\n			#endif\n\n		#else\n\n			varying vec2 vUv;\n\n		#endif\n\n		#include <common>\n		#include <color_pars_fragment>\n		#include <fog_pars_fragment>\n		#include <logdepthbuf_pars_fragment>\n		#include <clipping_planes_pars_fragment>\n\n		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {\n\n			float mua;\n			float mub;\n\n			vec3 p13 = p1 - p3;\n			vec3 p43 = p4 - p3;\n\n			vec3 p21 = p2 - p1;\n\n			float d1343 = dot( p13, p43 );\n			float d4321 = dot( p43, p21 );\n			float d1321 = dot( p13, p21 );\n			float d4343 = dot( p43, p43 );\n			float d2121 = dot( p21, p21 );\n\n			float denom = d2121 * d4343 - d4321 * d4321;\n\n			float numer = d1343 * d4321 - d1321 * d4343;\n\n			mua = numer / denom;\n			mua = clamp( mua, 0.0, 1.0 );\n			mub = ( d1343 + d4321 * ( mua ) ) / d4343;\n			mub = clamp( mub, 0.0, 1.0 );\n\n			return vec2( mua, mub );\n\n		}\n\n		void main() {\n\n			#include <clipping_planes_fragment>\n\n			#ifdef USE_DASH\n\n				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n			#endif\n\n			float alpha = opacity;\n\n			#ifdef WORLD_UNITS\n\n				// Find the closest points on the view ray and the line segment\n				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;\n				vec3 lineDir = worldEnd - worldStart;\n				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );\n\n				vec3 p1 = worldStart + lineDir * params.x;\n				vec3 p2 = rayEnd * params.y;\n				vec3 delta = p1 - p2;\n				float len = length( delta );\n				float norm = len / linewidth;\n\n				#ifndef USE_DASH\n\n					#ifdef USE_ALPHA_TO_COVERAGE\n\n						float dnorm = fwidth( norm );\n						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );\n\n					#else\n\n						if ( norm > 0.5 ) {\n\n							discard;\n\n						}\n\n					#endif\n\n				#endif\n\n			#else\n\n				#ifdef USE_ALPHA_TO_COVERAGE\n\n					// artifacts appear on some hardware if a derivative is taken within a conditional\n					float a = vUv.x;\n					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n					float len2 = a * a + b * b;\n					float dlen = fwidth( len2 );\n\n					if ( abs( vUv.y ) > 1.0 ) {\n\n						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n					}\n\n				#else\n\n					if ( abs( vUv.y ) > 1.0 ) {\n\n						float a = vUv.x;\n						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n						float len2 = a * a + b * b;\n\n						if ( len2 > 1.0 ) discard;\n\n					}\n\n				#endif\n\n			#endif\n\n			vec4 diffuseColor = vec4( diffuse, alpha );\n\n			#include <logdepthbuf_fragment>\n			#include <color_fragment>\n\n			gl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n			#include <tonemapping_fragment>\n			#include <encodings_fragment>\n			#include <fog_fragment>\n			#include <premultiplied_alpha_fragment>\n\n		}\n		"};class i extends r.ShaderMaterial{constructor(e){super({type:"LineMaterial",uniforms:r.UniformsUtils.clone(r.ShaderLib.line.uniforms),vertexShader:r.ShaderLib.line.vertexShader,fragmentShader:r.ShaderLib.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(e){!0===e?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(e){!!e!="USE_DASH"in this.defines&&(this.needsUpdate=!0),!0===e?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(e){!!e!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),!0===e?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}},912:function(e,t,n){"use strict";let r,i,o,a;n.d(t,{w:function(){return S}});var l=n(6096),s=n(1996),c=n(4814);let u=new l.Vector3,f=new l.Vector3,d=new l.Vector4,p=new l.Vector4,h=new l.Vector4,m=new l.Vector3,v=new l.Matrix4,b=new l.Line3,g=new l.Vector3,y=new l.Box3,w=new l.Sphere,_=new l.Vector4;function E(e,t,n){return _.set(0,0,-t,1).applyMatrix4(e.projectionMatrix),_.multiplyScalar(1/_.w),_.x=a/n.width,_.y=a/n.height,_.applyMatrix4(e.projectionMatrixInverse),_.multiplyScalar(1/_.w),Math.abs(Math.max(_.x,_.y))}class S extends l.Mesh{computeLineDistances(){let e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let e=0,i=0,o=t.count;e<o;e++,i+=2)u.fromBufferAttribute(t,e),f.fromBufferAttribute(n,e),r[i]=0===i?0:r[i-1],r[i+1]=r[i]+u.distanceTo(f);let i=new l.InstancedInterleavedBuffer(r,2,1);return e.setAttribute("instanceDistanceStart",new l.InterleavedBufferAttribute(i,1,0)),e.setAttribute("instanceDistanceEnd",new l.InterleavedBufferAttribute(i,1,1)),this}raycast(e,t){let n,s;let c=this.material.worldUnits,u=e.camera;null!==u||c||console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');let f=void 0!==e.params.Line2&&e.params.Line2.threshold||0;r=e.ray;let _=this.matrixWorld,S=this.geometry,x=this.material;if(a=x.linewidth+f,i=S.attributes.instanceStart,o=S.attributes.instanceEnd,null===S.boundingSphere&&S.computeBoundingSphere(),w.copy(S.boundingSphere).applyMatrix4(_),c)n=.5*a;else{let e=Math.max(u.near,w.distanceToPoint(r.origin));n=E(u,e,x.resolution)}if(w.radius+=n,!1!==r.intersectsSphere(w)){if(null===S.boundingBox&&S.computeBoundingBox(),y.copy(S.boundingBox).applyMatrix4(_),c)s=.5*a;else{let e=Math.max(u.near,y.distanceToPoint(r.origin));s=E(u,e,x.resolution)}y.expandByScalar(s),!1!==r.intersectsBox(y)&&(c?function(e,t){for(let n=0,s=i.count;n<s;n++){b.start.fromBufferAttribute(i,n),b.end.fromBufferAttribute(o,n);let s=new l.Vector3,c=new l.Vector3;r.distanceSqToSegment(b.start,b.end,c,s),c.distanceTo(s)<.5*a&&t.push({point:c,pointOnLine:s,distance:r.origin.distanceTo(c),object:e,face:null,faceIndex:n,uv:null,uv2:null})}}(this,t):function(e,t,n){let i=t.projectionMatrix,o=e.material.resolution,s=e.matrixWorld,c=e.geometry,u=c.attributes.instanceStart,f=c.attributes.instanceEnd,y=-t.near;r.at(1,h),h.w=1,h.applyMatrix4(t.matrixWorldInverse),h.applyMatrix4(i),h.multiplyScalar(1/h.w),h.x*=o.x/2,h.y*=o.y/2,h.z=0,m.copy(h),v.multiplyMatrices(t.matrixWorldInverse,s);for(let t=0,c=u.count;t<c;t++){if(d.fromBufferAttribute(u,t),p.fromBufferAttribute(f,t),d.w=1,p.w=1,d.applyMatrix4(v),p.applyMatrix4(v),d.z>y&&p.z>y)continue;if(d.z>y){let e=d.z-p.z,t=(d.z-y)/e;d.lerp(p,t)}else if(p.z>y){let e=p.z-d.z,t=(p.z-y)/e;p.lerp(d,t)}d.applyMatrix4(i),p.applyMatrix4(i),d.multiplyScalar(1/d.w),p.multiplyScalar(1/p.w),d.x*=o.x/2,d.y*=o.y/2,p.x*=o.x/2,p.y*=o.y/2,b.start.copy(d),b.start.z=0,b.end.copy(p),b.end.z=0;let c=b.closestPointToPointParameter(m,!0);b.at(c,g);let h=l.MathUtils.lerp(d.z,p.z,c),w=h>=-1&&h<=1,_=m.distanceTo(g)<.5*a;if(w&&_){b.start.fromBufferAttribute(u,t),b.end.fromBufferAttribute(f,t),b.start.applyMatrix4(s),b.end.applyMatrix4(s);let i=new l.Vector3,o=new l.Vector3;r.distanceSqToSegment(b.start,b.end,o,i),n.push({point:o,pointOnLine:i,distance:r.origin.distanceTo(o),object:e,face:null,faceIndex:t,uv:null,uv2:null})}}}(this,u,t))}}constructor(e=new s.z,t=new c.Y({color:16777215*Math.random()})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}}},1996:function(e,t,n){"use strict";n.d(t,{z:function(){return a}});var r=n(6096);let i=new r.Box3,o=new r.Vector3;class a extends r.InstancedBufferGeometry{applyMatrix4(e){let t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));let n=new r.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new r.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new r.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));let n=new r.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new r.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new r.InterleavedBufferAttribute(n,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new r.WireframeGeometry(e.geometry)),this}fromLineSegments(e){let t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new r.Box3);let e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),i.setFromBufferAttribute(t),this.boundingBox.union(i))}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new r.Sphere),null===this.boundingBox&&this.computeBoundingBox();let e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){let n=this.boundingSphere.center;this.boundingBox.getCenter(n);let r=0;for(let i=0,a=e.count;i<a;i++)o.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(o)),o.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(o));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry",this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new r.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new r.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))}}},8128:function(){},7500:function(e,t,n){"use strict";function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,{Z:function(){return r}})},3773:function(e,t,n){"use strict";function r(e,t){for(let n of t)e[n]=e[n].bind(e)}n.d(t,{ak:function(){return r},w6:function(){return function e(t,n){return void 0===n?e(0,t):Array(n-t).fill(null).map((e,n)=>t+n)}}})},7354:function(e,t,n){"use strict";function r(e,t,n){if(!t.has(e))throw TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}n.d(t,{J:function(){return r}})},2731:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(7354);function i(e,t){var n=(0,r.J)(e,t,"get");return n.get?n.get.call(e):n.value}},9258:function(e,t,n){"use strict";function r(e,t,n){!function(e,t){if(t.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}n.d(t,{_:function(){return r}})},5577:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(7354);function i(e,t,n){var i=(0,r.J)(e,t,"set");return!function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw TypeError("attempted to set read only private field");t.value=n}}(e,i,n),n}},6093:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,{_:function(){return r}})}}]);